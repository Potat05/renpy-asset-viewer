var Er=Object.defineProperty;var yr=(e,n,t)=>n in e?Er(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var U=(e,n,t)=>(yr(e,typeof n!="symbol"?n+"":n,t),t);import{C as xr,D as Tr,E as Et,F as Sr,s as Y,r as ct,G as V,H as ee,I as te,h as z,d as w,j as E,J as fe,K as M,i as $,w as P,x as ht,y as ut,z as dt,L as ce,M as _t,a as _e,f as F,c as pe,g as Z,v as zi,N as Be,A as B,O as $i,P as Ar,Q as Pe,e as Me,l as ve,m as ke,n as He,o as kn,R as Rr,p as Lt}from"../chunks/scheduler.6bc22ceb.js";import{g as Li,t as ie,c as Ui,a as re,S as W,i as X,b as En,d as yn,m as xn,e as Tn}from"../chunks/index.a81d33f5.js";import{w as Nr}from"../chunks/index.f033d8ca.js";function Un(e,n){const t=n.token={};function i(a,r,o,l){if(n.token!==t)return;n.resolved=l;let f=n.ctx;o!==void 0&&(f=f.slice(),f[o]=l);const s=a&&(n.current=a)(f);let c=!1;n.block&&(n.blocks?n.blocks.forEach((d,u)=>{u!==r&&d&&(Li(),ie(d,1,1,()=>{n.blocks[u]===d&&(n.blocks[u]=null)}),Ui())}):n.block.d(1),s.c(),re(s,1),s.m(n.mount(),n.anchor),c=!0),n.block=s,n.blocks&&(n.blocks[r]=s),c&&Sr()}if(xr(e)){const a=Tr();if(e.then(r=>{Et(a),i(n.then,1,n.value,r),Et(null)},r=>{if(Et(a),i(n.catch,2,n.error,r),Et(null),!n.hasCatch)throw r}),n.current!==n.pending)return i(n.pending,0),!0}else{if(n.current!==n.then)return i(n.then,1,n.value,e),!0;n.resolved=e}}function Dr(e,n,t){const i=n.slice(),{resolved:a}=e;e.current===e.then&&(i[e.value]=a),e.current===e.catch&&(i[e.error]=a),e.block.p(i,t)}function Bn(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function pt(e,n){const t={},i={},a={$$scope:1};let r=e.length;for(;r--;){const o=e[r],l=n[r];if(l){for(const f in o)f in l||(i[f]=1);for(const f in l)a[f]||(t[f]=l[f],a[f]=1);e[r]=l}else for(const f in o)a[f]=1}for(const o in i)o in t||(t[o]=void 0);return t}const Ir=!0,Mo=Object.freeze(Object.defineProperty({__proto__:null,prerender:Ir},Symbol.toStringTag,{value:"Module"}));function Ut(...e){let n="";for(let t of e)t=t.replace(/\\/g,"/"),t.startsWith("/")&&(t=t.slice(1)),t.endsWith("/")&&(t=t.slice(void 0,-1)),n.length==0||n[n.length-1]=="/"?n+=t:n+=`/${t}`;return n}class be{getFile(n){throw new Error("Directory: Don't use this base class.")}getDirectory(n){throw new Error("Directory: Don't use this base class.")}listEntries(){throw new Error("Directory: Don't use this base class.")}}class Bt extends be{constructor(t={}){super();U(this,"folder");this.folder=t}async getFile(t){const i=Ut(t).split("/"),a=i.pop();if(a===void 0)throw new Error("FolderObject_Directory.getFile: Empty path.");let r=this;for(let l=0;l<i.length;l++){const f=i[l],s=r.folder[f];if(s instanceof Bt)r=s;else return}const o=r.folder[a];if(o!==void 0&&!(o instanceof be))return o}async getDirectory(t){const i=Ut(t).split("/"),a=i.pop();if(a===void 0)throw new Error("FolderObject_Directory.getDirectory: Empty path.");let r=this;for(let l=0;l<i.length;l++){const f=i[l],s=r.folder[f];if(s instanceof Bt)r=s;else return}const o=r.folder[a];if(o!==void 0&&o instanceof be)return o}async listEntries(){let t=[];for(const i in this.folder){const a=this.folder[i];a!==void 0&&(a instanceof be?t.push(`${i}/`):t.push(i))}return t}static fromFileList(t){const i=new this;for(const a in t){let r=i;const o=a.split("/"),l=o.pop();if(l===void 0)throw new Error("FolderObject_Directory.fromFileList: Empty path.");for(const f of o){f in r.folder||(r.folder[f]=new this);const s=r.folder[f];if(!(s instanceof be))throw new Error("FolderObject_Directory.fromFileList: File and folder have same name.");r=s}r.folder[l]=t[a]}return i}}class Sn extends be{constructor(t){super();U(this,"directoryEntry");this.directoryEntry=t}getFile(t){return new Promise((i,a)=>{this.directoryEntry.getFile(Ut(t),{create:!1,exclusive:!1},r=>{if(r.isFile)r.file(i,a);else throw new Error("FileSystemDirectoryEntry_Directory.getFile: Error. File is not file...?")},()=>{i(void 0)})})}getDirectory(t){return new Promise((i,a)=>{this.directoryEntry.getDirectory(Ut(t),{create:!1,exclusive:!1},r=>{if(r.isDirectory)i(new Sn(r));else throw new Error("FileSystemDirectoryEntry_Directory.getDirectory: Error. Directory is not directory...?")},()=>{i(void 0)})})}listEntries(){return new Promise(async(t,i)=>{const a=this.directoryEntry.createReader();let r=[],o=0;do{let l=[];try{l=await new Promise((f,s)=>{a.readEntries(f,s)})}catch(f){i(f)}o=l.length,r=r.concat(l)}while(o>0);t(r.map(l=>`${l.name}${l.isDirectory?"/":""}`))})}}function zr(e){let n,t,i;const a=e[2].default,r=ct(a,e,e[1],null);let o=[{xmlns:"http://www.w3.org/2000/svg"},{width:"16"},{height:"16"},{fill:"currentColor"},{viewBox:"0 0 16 16"},e[0]],l={};for(let f=0;f<o.length;f+=1)l=V(l,o[f]);return{c(){n=ee("svg"),r&&r.c(),t=ee("path"),this.h()},l(f){n=te(f,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0});var s=z(n);r&&r.l(s),t=te(s,"path",{d:!0}),z(t).forEach(w),s.forEach(w),this.h()},h(){E(t,"d","M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z"),fe(n,l),M(n,"bi",!0),M(n,"bi-file-earmark",!0)},m(f,s){$(f,n,s),r&&r.m(n,null),P(n,t),i=!0},p(f,[s]){r&&r.p&&(!i||s&2)&&ht(r,a,f,f[1],i?dt(a,f[1],s,null):ut(f[1]),null),fe(n,l=pt(o,[{xmlns:"http://www.w3.org/2000/svg"},{width:"16"},{height:"16"},{fill:"currentColor"},{viewBox:"0 0 16 16"},s&1&&f[0]])),M(n,"bi",!0),M(n,"bi-file-earmark",!0)},i(f){i||(re(r,f),i=!0)},o(f){ie(r,f),i=!1},d(f){f&&w(n),r&&r.d(f)}}}function $r(e,n,t){const i=[];let a=ce(n,i),{$$slots:r={},$$scope:o}=n;return e.$$set=l=>{n=V(V({},n),_t(l)),t(0,a=ce(n,i)),"$$scope"in l&&t(1,o=l.$$scope)},[a,o,r]}class Lr extends W{constructor(n){super(),X(this,n,$r,zr,Y,{})}}function Ur(e){let n,t,i;const a=e[2].default,r=ct(a,e,e[1],null);let o=[{xmlns:"http://www.w3.org/2000/svg"},{width:"16"},{height:"16"},{fill:"currentColor"},{viewBox:"0 0 16 16"},e[0]],l={};for(let f=0;f<o.length;f+=1)l=V(l,o[f]);return{c(){n=ee("svg"),r&&r.c(),t=ee("path"),this.h()},l(f){n=te(f,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0});var s=z(n);r&&r.l(s),t=te(s,"path",{d:!0}),z(t).forEach(w),s.forEach(w),this.h()},h(){E(t,"d","M0 1a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V1zm4 0v6h8V1H4zm8 8H4v6h8V9zM1 1v2h2V1H1zm2 3H1v2h2V4zM1 7v2h2V7H1zm2 3H1v2h2v-2zm-2 3v2h2v-2H1zM15 1h-2v2h2V1zm-2 3v2h2V4h-2zm2 3h-2v2h2V7zm-2 3v2h2v-2h-2zm2 3h-2v2h2v-2z"),fe(n,l),M(n,"bi",!0),M(n,"bi-film",!0)},m(f,s){$(f,n,s),r&&r.m(n,null),P(n,t),i=!0},p(f,[s]){r&&r.p&&(!i||s&2)&&ht(r,a,f,f[1],i?dt(a,f[1],s,null):ut(f[1]),null),fe(n,l=pt(o,[{xmlns:"http://www.w3.org/2000/svg"},{width:"16"},{height:"16"},{fill:"currentColor"},{viewBox:"0 0 16 16"},s&1&&f[0]])),M(n,"bi",!0),M(n,"bi-film",!0)},i(f){i||(re(r,f),i=!0)},o(f){ie(r,f),i=!1},d(f){f&&w(n),r&&r.d(f)}}}function Br(e,n,t){const i=[];let a=ce(n,i),{$$slots:r={},$$scope:o}=n;return e.$$set=l=>{n=V(V({},n),_t(l)),t(0,a=ce(n,i)),"$$scope"in l&&t(1,o=l.$$scope)},[a,o,r]}class yt extends W{constructor(n){super(),X(this,n,Br,Ur,Y,{})}}function Cr(e){let n,t,i;const a=e[2].default,r=ct(a,e,e[1],null);let o=[{xmlns:"http://www.w3.org/2000/svg"},{width:"16"},{height:"16"},{fill:"currentColor"},{viewBox:"0 0 16 16"},e[0]],l={};for(let f=0;f<o.length;f+=1)l=V(l,o[f]);return{c(){n=ee("svg"),r&&r.c(),t=ee("path"),this.h()},l(f){n=te(f,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0});var s=z(n);r&&r.l(s),t=te(s,"path",{d:!0}),z(t).forEach(w),s.forEach(w),this.h()},h(){E(t,"d","M1 3.5A1.5 1.5 0 0 1 2.5 2h2.764c.958 0 1.76.56 2.311 1.184C7.985 3.648 8.48 4 9 4h4.5A1.5 1.5 0 0 1 15 5.5v.64c.57.265.94.876.856 1.546l-.64 5.124A2.5 2.5 0 0 1 12.733 15H3.266a2.5 2.5 0 0 1-2.481-2.19l-.64-5.124A1.5 1.5 0 0 1 1 6.14V3.5zM2 6h12v-.5a.5.5 0 0 0-.5-.5H9c-.964 0-1.71-.629-2.174-1.154C6.374 3.334 5.82 3 5.264 3H2.5a.5.5 0 0 0-.5.5V6zm-.367 1a.5.5 0 0 0-.496.562l.64 5.124A1.5 1.5 0 0 0 3.266 14h9.468a1.5 1.5 0 0 0 1.489-1.314l.64-5.124A.5.5 0 0 0 14.367 7H1.633z"),fe(n,l),M(n,"bi",!0),M(n,"bi-folder2-open",!0)},m(f,s){$(f,n,s),r&&r.m(n,null),P(n,t),i=!0},p(f,[s]){r&&r.p&&(!i||s&2)&&ht(r,a,f,f[1],i?dt(a,f[1],s,null):ut(f[1]),null),fe(n,l=pt(o,[{xmlns:"http://www.w3.org/2000/svg"},{width:"16"},{height:"16"},{fill:"currentColor"},{viewBox:"0 0 16 16"},s&1&&f[0]])),M(n,"bi",!0),M(n,"bi-folder2-open",!0)},i(f){i||(re(r,f),i=!0)},o(f){ie(r,f),i=!1},d(f){f&&w(n),r&&r.d(f)}}}function Pr(e,n,t){const i=[];let a=ce(n,i),{$$slots:r={},$$scope:o}=n;return e.$$set=l=>{n=V(V({},n),_t(l)),t(0,a=ce(n,i)),"$$scope"in l&&t(1,o=l.$$scope)},[a,o,r]}class Mr extends W{constructor(n){super(),X(this,n,Pr,Cr,Y,{})}}function Fr(e){let n,t,i;const a=e[2].default,r=ct(a,e,e[1],null);let o=[{xmlns:"http://www.w3.org/2000/svg"},{width:"16"},{height:"16"},{fill:"currentColor"},{viewBox:"0 0 16 16"},e[0]],l={};for(let f=0;f<o.length;f+=1)l=V(l,o[f]);return{c(){n=ee("svg"),r&&r.c(),t=ee("path"),this.h()},l(f){n=te(f,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0});var s=z(n);r&&r.l(s),t=te(s,"path",{d:!0}),z(t).forEach(w),s.forEach(w),this.h()},h(){E(t,"d","M1 3.5A1.5 1.5 0 0 1 2.5 2h2.764c.958 0 1.76.56 2.311 1.184C7.985 3.648 8.48 4 9 4h4.5A1.5 1.5 0 0 1 15 5.5v7a1.5 1.5 0 0 1-1.5 1.5h-11A1.5 1.5 0 0 1 1 12.5v-9zM2.5 3a.5.5 0 0 0-.5.5V6h12v-.5a.5.5 0 0 0-.5-.5H9c-.964 0-1.71-.629-2.174-1.154C6.374 3.334 5.82 3 5.264 3H2.5zM14 7H2v5.5a.5.5 0 0 0 .5.5h11a.5.5 0 0 0 .5-.5V7z"),fe(n,l),M(n,"bi",!0),M(n,"bi-folder2",!0)},m(f,s){$(f,n,s),r&&r.m(n,null),P(n,t),i=!0},p(f,[s]){r&&r.p&&(!i||s&2)&&ht(r,a,f,f[1],i?dt(a,f[1],s,null):ut(f[1]),null),fe(n,l=pt(o,[{xmlns:"http://www.w3.org/2000/svg"},{width:"16"},{height:"16"},{fill:"currentColor"},{viewBox:"0 0 16 16"},s&1&&f[0]])),M(n,"bi",!0),M(n,"bi-folder2",!0)},i(f){i||(re(r,f),i=!0)},o(f){ie(r,f),i=!1},d(f){f&&w(n),r&&r.d(f)}}}function Zr(e,n,t){const i=[];let a=ce(n,i),{$$slots:r={},$$scope:o}=n;return e.$$set=l=>{n=V(V({},n),_t(l)),t(0,a=ce(n,i)),"$$scope"in l&&t(1,o=l.$$scope)},[a,o,r]}class Hr extends W{constructor(n){super(),X(this,n,Zr,Fr,Y,{})}}function Or(e){let n,t,i,a,r;const o=e[2].default,l=ct(o,e,e[1],null);let f=[{xmlns:"http://www.w3.org/2000/svg"},{width:"16"},{height:"16"},{fill:"currentColor"},{viewBox:"0 0 16 16"},e[0]],s={};for(let c=0;c<f.length;c+=1)s=V(s,f[c]);return{c(){n=ee("svg"),l&&l.c(),t=ee("path"),i=ee("path"),a=ee("path"),this.h()},l(c){n=te(c,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0});var d=z(n);l&&l.l(d),t=te(d,"path",{d:!0}),z(t).forEach(w),i=te(d,"path",{d:!0}),z(i).forEach(w),a=te(d,"path",{d:!0}),z(a).forEach(w),d.forEach(w),this.h()},h(){E(t,"d","M11.536 14.01A8.473 8.473 0 0 0 14.026 8a8.473 8.473 0 0 0-2.49-6.01l-.708.707A7.476 7.476 0 0 1 13.025 8c0 2.071-.84 3.946-2.197 5.303l.708.707z"),E(i,"d","M10.121 12.596A6.48 6.48 0 0 0 12.025 8a6.48 6.48 0 0 0-1.904-4.596l-.707.707A5.483 5.483 0 0 1 11.025 8a5.483 5.483 0 0 1-1.61 3.89l.706.706z"),E(a,"d","M10.025 8a4.486 4.486 0 0 1-1.318 3.182L8 10.475A3.489 3.489 0 0 0 9.025 8c0-.966-.392-1.841-1.025-2.475l.707-.707A4.486 4.486 0 0 1 10.025 8zM7 4a.5.5 0 0 0-.812-.39L3.825 5.5H1.5A.5.5 0 0 0 1 6v4a.5.5 0 0 0 .5.5h2.325l2.363 1.89A.5.5 0 0 0 7 12V4zM4.312 6.39 6 5.04v5.92L4.312 9.61A.5.5 0 0 0 4 9.5H2v-3h2a.5.5 0 0 0 .312-.11z"),fe(n,s),M(n,"bi",!0),M(n,"bi-volume-up",!0)},m(c,d){$(c,n,d),l&&l.m(n,null),P(n,t),P(n,i),P(n,a),r=!0},p(c,[d]){l&&l.p&&(!r||d&2)&&ht(l,o,c,c[1],r?dt(o,c[1],d,null):ut(c[1]),null),fe(n,s=pt(f,[{xmlns:"http://www.w3.org/2000/svg"},{width:"16"},{height:"16"},{fill:"currentColor"},{viewBox:"0 0 16 16"},d&1&&c[0]])),M(n,"bi",!0),M(n,"bi-volume-up",!0)},i(c){r||(re(l,c),r=!0)},o(c){ie(l,c),r=!1},d(c){c&&w(n),l&&l.d(c)}}}function jr(e,n,t){const i=[];let a=ce(n,i),{$$slots:r={},$$scope:o}=n;return e.$$set=l=>{n=V(V({},n),_t(l)),t(0,a=ce(n,i)),"$$scope"in l&&t(1,o=l.$$scope)},[a,o,r]}class Kt extends W{constructor(n){super(),X(this,n,jr,Or,Y,{})}}function Gr(e){let n,t,i,a=`<div class="dropzone-text svelte-r6lkz9">File Dropzone
            <br/></div>`,r,o,l;return{c(){n=_e(),t=F("div"),i=F("div"),i.innerHTML=a,this.h()},l(f){n=pe(f),t=Z(f,"DIV",{class:!0});var s=z(t);i=Z(s,"DIV",{class:!0,"data-svelte-h":!0}),zi(i)!=="svelte-cz3xah"&&(i.innerHTML=a),s.forEach(w),this.h()},h(){E(i,"class","dropzone-content svelte-r6lkz9"),E(t,"class",r="file-dropzone"+(e[0]?" visible":"")+" svelte-r6lkz9")},m(f,s){$(f,n,s),$(f,t,s),P(t,i),o||(l=[Be(document.body,"dragover",e[1]),Be(document.body,"dragleave",e[2]),Be(document.body,"drop",e[3])],o=!0)},p(f,[s]){s&1&&r!==(r="file-dropzone"+(f[0]?" visible":"")+" svelte-r6lkz9")&&E(t,"class",r)},i:B,o:B,d(f){f&&(w(n),w(t)),o=!1,$i(l)}}}function Cn(e){return e==null?!1:e.types.length==1&&e.types[0]=="Files"}function Vr(e,n,t){const i=Ar();let a=!1;function r(f){f.dataTransfer!=null&&Cn(f.dataTransfer)&&(f.preventDefault(),t(0,a=!0))}function o(f){f.fromElement==null&&t(0,a=!1)}function l(f){f.preventDefault(),t(0,a=!1);const s=f.dataTransfer;if(s==null||!Cn(s))return;const c=s.items[0].webkitGetAsEntry();if(c!=null)if(c.isDirectory){const d=new Sn(c);i("dropdirectory",{dir:d,name:c.name})}else c.isFile&&c.file(d=>{i("dropfile",{file:d,name:c.name})})}return[a,r,o,l]}class Kr extends W{constructor(n){super(),X(this,n,Vr,Gr,Y,{})}}function Yr(e){let n,t;return{c(){n=F("img"),this.h()},l(i){n=Z(i,"IMG",{src:!0,title:!0,alt:!0,class:!0}),this.h()},h(){Pe(n.src,t=URL.createObjectURL(e[1]))||E(n,"src",t),E(n,"title",e[0]),E(n,"alt",e[0]),E(n,"class","svelte-1q99sbg")},m(i,a){$(i,n,a)},p(i,[a]){a&2&&!Pe(n.src,t=URL.createObjectURL(i[1]))&&E(n,"src",t),a&1&&E(n,"title",i[0]),a&1&&E(n,"alt",i[0])},i:B,o:B,d(i){i&&w(n)}}}function Wr(e,n,t){let{path:i}=n,{file:a}=n;return e.$$set=r=>{"path"in r&&t(0,i=r.path),"file"in r&&t(1,a=r.file)},[i,a]}class Ve extends W{constructor(n){super(),X(this,n,Wr,Yr,Y,{path:0,file:1})}}function Xr(e){return{c:B,l:B,m:B,p:B,d:B}}function Jr(e){let n,t,i=e[2]+"",a,r;return{c(){n=F("pre"),t=ve("        "),a=ve(i),r=ve(`\r
    `),this.h()},l(o){n=Z(o,"PRE",{title:!0,class:!0});var l=z(n);t=ke(l,"        "),a=ke(l,i),r=ke(l,`\r
    `),l.forEach(w),this.h()},h(){E(n,"title",e[0]),E(n,"class","svelte-plmy7n")},m(o,l){$(o,n,l),P(n,t),P(n,a),P(n,r)},p(o,l){l&2&&i!==(i=o[2]+"")&&He(a,i),l&1&&E(n,"title",o[0])},d(o){o&&w(n)}}}function qr(e){return{c:B,l:B,m:B,p:B,d:B}}function Qr(e){let n,t,i={ctx:e,current:null,token:null,hasCatch:!1,pending:qr,then:Jr,catch:Xr,value:2};return Un(t=e[1].text(),i),{c(){n=Me(),i.block.c()},l(a){n=Me(),i.block.l(a)},m(a,r){$(a,n,r),i.block.m(a,i.anchor=r),i.mount=()=>n.parentNode,i.anchor=n},p(a,[r]){e=a,i.ctx=e,r&2&&t!==(t=e[1].text())&&Un(t,i)||Dr(i,e,r)},i:B,o:B,d(a){a&&w(n),i.block.d(a),i.token=null,i=null}}}function ea(e,n,t){let{path:i}=n,{file:a}=n;return e.$$set=r=>{"path"in r&&t(0,i=r.path),"file"in r&&t(1,a=r.file)},[i,a]}class ta extends W{constructor(n){super(),X(this,n,ea,Qr,Y,{path:0,file:1})}}function na(e){let n,t;return{c(){n=F("img"),this.h()},l(i){n=Z(i,"IMG",{src:!0,title:!0,alt:!0}),this.h()},h(){Pe(n.src,t=URL.createObjectURL(e[1]))||E(n,"src",t),E(n,"title",e[0]),E(n,"alt",e[0])},m(i,a){$(i,n,a)},p(i,[a]){a&2&&!Pe(n.src,t=URL.createObjectURL(i[1]))&&E(n,"src",t),a&1&&E(n,"title",i[0]),a&1&&E(n,"alt",i[0])},i:B,o:B,d(i){i&&w(n)}}}function ia(e,n,t){let{path:i}=n,{file:a}=n;return e.$$set=r=>{"path"in r&&t(0,i=r.path),"file"in r&&t(1,a=r.file)},[i,a]}class Ke extends W{constructor(n){super(),X(this,n,ia,na,Y,{path:0,file:1})}}function ra(e){let n,t;return{c(){n=F("video"),this.h()},l(i){n=Z(i,"VIDEO",{src:!0,title:!0}),z(n).forEach(w),this.h()},h(){Pe(n.src,t=URL.createObjectURL(e[1]))||E(n,"src",t),E(n,"title",e[0]),n.controls=!0,n.loop=!0},m(i,a){$(i,n,a)},p(i,[a]){a&2&&!Pe(n.src,t=URL.createObjectURL(i[1]))&&E(n,"src",t),a&1&&E(n,"title",i[0])},i:B,o:B,d(i){i&&w(n)}}}function aa(e,n,t){let{path:i}=n,{file:a}=n;return e.$$set=r=>{"path"in r&&t(0,i=r.path),"file"in r&&t(1,a=r.file)},[i,a]}class xt extends W{constructor(n){super(),X(this,n,aa,ra,Y,{path:0,file:1})}}var fn;(e=>{function n(t,i=new Set,a=new Set){if(a.has(t))return i;a.add(t);for(const r in t){const o=t[r];typeof o=="string"?i.add(o):typeof o=="object"&&o!==null&&n(o,i,a)}return i}e.dumpStrings=n})(fn||(fn={}));/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const la=4,Pn=0,Mn=1,sa=2;function Oe(e){let n=e.length;for(;--n>=0;)e[n]=0}const oa=0,Bi=1,fa=2,ca=3,ha=258,An=29,wt=256,et=wt+1+An,Ce=30,Rn=19,Ci=2*et+1,Se=15,Yt=16,ua=7,Nn=256,Pi=16,Mi=17,Fi=18,cn=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),zt=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),da=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Zi=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_a=512,ue=new Array((et+2)*2);Oe(ue);const Je=new Array(Ce*2);Oe(Je);const tt=new Array(_a);Oe(tt);const nt=new Array(ha-ca+1);Oe(nt);const Dn=new Array(An);Oe(Dn);const Ct=new Array(Ce);Oe(Ct);function Wt(e,n,t,i,a){this.static_tree=e,this.extra_bits=n,this.extra_base=t,this.elems=i,this.max_length=a,this.has_stree=e&&e.length}let Hi,Oi,ji;function Xt(e,n){this.dyn_tree=e,this.max_code=0,this.stat_desc=n}const Gi=e=>e<256?tt[e]:tt[256+(e>>>7)],it=(e,n)=>{e.pending_buf[e.pending++]=n&255,e.pending_buf[e.pending++]=n>>>8&255},K=(e,n,t)=>{e.bi_valid>Yt-t?(e.bi_buf|=n<<e.bi_valid&65535,it(e,e.bi_buf),e.bi_buf=n>>Yt-e.bi_valid,e.bi_valid+=t-Yt):(e.bi_buf|=n<<e.bi_valid&65535,e.bi_valid+=t)},le=(e,n,t)=>{K(e,t[n*2],t[n*2+1])},Vi=(e,n)=>{let t=0;do t|=e&1,e>>>=1,t<<=1;while(--n>0);return t>>>1},pa=e=>{e.bi_valid===16?(it(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},wa=(e,n)=>{const t=n.dyn_tree,i=n.max_code,a=n.stat_desc.static_tree,r=n.stat_desc.has_stree,o=n.stat_desc.extra_bits,l=n.stat_desc.extra_base,f=n.stat_desc.max_length;let s,c,d,u,h,p,L=0;for(u=0;u<=Se;u++)e.bl_count[u]=0;for(t[e.heap[e.heap_max]*2+1]=0,s=e.heap_max+1;s<Ci;s++)c=e.heap[s],u=t[t[c*2+1]*2+1]+1,u>f&&(u=f,L++),t[c*2+1]=u,!(c>i)&&(e.bl_count[u]++,h=0,c>=l&&(h=o[c-l]),p=t[c*2],e.opt_len+=p*(u+h),r&&(e.static_len+=p*(a[c*2+1]+h)));if(L!==0){do{for(u=f-1;e.bl_count[u]===0;)u--;e.bl_count[u]--,e.bl_count[u+1]+=2,e.bl_count[f]--,L-=2}while(L>0);for(u=f;u!==0;u--)for(c=e.bl_count[u];c!==0;)d=e.heap[--s],!(d>i)&&(t[d*2+1]!==u&&(e.opt_len+=(u-t[d*2+1])*t[d*2],t[d*2+1]=u),c--)}},Ki=(e,n,t)=>{const i=new Array(Se+1);let a=0,r,o;for(r=1;r<=Se;r++)a=a+t[r-1]<<1,i[r]=a;for(o=0;o<=n;o++){let l=e[o*2+1];l!==0&&(e[o*2]=Vi(i[l]++,l))}},ba=()=>{let e,n,t,i,a;const r=new Array(Se+1);for(t=0,i=0;i<An-1;i++)for(Dn[i]=t,e=0;e<1<<cn[i];e++)nt[t++]=i;for(nt[t-1]=i,a=0,i=0;i<16;i++)for(Ct[i]=a,e=0;e<1<<zt[i];e++)tt[a++]=i;for(a>>=7;i<Ce;i++)for(Ct[i]=a<<7,e=0;e<1<<zt[i]-7;e++)tt[256+a++]=i;for(n=0;n<=Se;n++)r[n]=0;for(e=0;e<=143;)ue[e*2+1]=8,e++,r[8]++;for(;e<=255;)ue[e*2+1]=9,e++,r[9]++;for(;e<=279;)ue[e*2+1]=7,e++,r[7]++;for(;e<=287;)ue[e*2+1]=8,e++,r[8]++;for(Ki(ue,et+1,r),e=0;e<Ce;e++)Je[e*2+1]=5,Je[e*2]=Vi(e,5);Hi=new Wt(ue,cn,wt+1,et,Se),Oi=new Wt(Je,zt,0,Ce,Se),ji=new Wt(new Array(0),da,0,Rn,ua)},Yi=e=>{let n;for(n=0;n<et;n++)e.dyn_ltree[n*2]=0;for(n=0;n<Ce;n++)e.dyn_dtree[n*2]=0;for(n=0;n<Rn;n++)e.bl_tree[n*2]=0;e.dyn_ltree[Nn*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Wi=e=>{e.bi_valid>8?it(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Fn=(e,n,t,i)=>{const a=n*2,r=t*2;return e[a]<e[r]||e[a]===e[r]&&i[n]<=i[t]},Jt=(e,n,t)=>{const i=e.heap[t];let a=t<<1;for(;a<=e.heap_len&&(a<e.heap_len&&Fn(n,e.heap[a+1],e.heap[a],e.depth)&&a++,!Fn(n,i,e.heap[a],e.depth));)e.heap[t]=e.heap[a],t=a,a<<=1;e.heap[t]=i},Zn=(e,n,t)=>{let i,a,r=0,o,l;if(e.sym_next!==0)do i=e.pending_buf[e.sym_buf+r++]&255,i+=(e.pending_buf[e.sym_buf+r++]&255)<<8,a=e.pending_buf[e.sym_buf+r++],i===0?le(e,a,n):(o=nt[a],le(e,o+wt+1,n),l=cn[o],l!==0&&(a-=Dn[o],K(e,a,l)),i--,o=Gi(i),le(e,o,t),l=zt[o],l!==0&&(i-=Ct[o],K(e,i,l)));while(r<e.sym_next);le(e,Nn,n)},hn=(e,n)=>{const t=n.dyn_tree,i=n.stat_desc.static_tree,a=n.stat_desc.has_stree,r=n.stat_desc.elems;let o,l,f=-1,s;for(e.heap_len=0,e.heap_max=Ci,o=0;o<r;o++)t[o*2]!==0?(e.heap[++e.heap_len]=f=o,e.depth[o]=0):t[o*2+1]=0;for(;e.heap_len<2;)s=e.heap[++e.heap_len]=f<2?++f:0,t[s*2]=1,e.depth[s]=0,e.opt_len--,a&&(e.static_len-=i[s*2+1]);for(n.max_code=f,o=e.heap_len>>1;o>=1;o--)Jt(e,t,o);s=r;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Jt(e,t,1),l=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=l,t[s*2]=t[o*2]+t[l*2],e.depth[s]=(e.depth[o]>=e.depth[l]?e.depth[o]:e.depth[l])+1,t[o*2+1]=t[l*2+1]=s,e.heap[1]=s++,Jt(e,t,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],wa(e,n),Ki(t,f,e.bl_count)},Hn=(e,n,t)=>{let i,a=-1,r,o=n[0*2+1],l=0,f=7,s=4;for(o===0&&(f=138,s=3),n[(t+1)*2+1]=65535,i=0;i<=t;i++)r=o,o=n[(i+1)*2+1],!(++l<f&&r===o)&&(l<s?e.bl_tree[r*2]+=l:r!==0?(r!==a&&e.bl_tree[r*2]++,e.bl_tree[Pi*2]++):l<=10?e.bl_tree[Mi*2]++:e.bl_tree[Fi*2]++,l=0,a=r,o===0?(f=138,s=3):r===o?(f=6,s=3):(f=7,s=4))},On=(e,n,t)=>{let i,a=-1,r,o=n[0*2+1],l=0,f=7,s=4;for(o===0&&(f=138,s=3),i=0;i<=t;i++)if(r=o,o=n[(i+1)*2+1],!(++l<f&&r===o)){if(l<s)do le(e,r,e.bl_tree);while(--l!==0);else r!==0?(r!==a&&(le(e,r,e.bl_tree),l--),le(e,Pi,e.bl_tree),K(e,l-3,2)):l<=10?(le(e,Mi,e.bl_tree),K(e,l-3,3)):(le(e,Fi,e.bl_tree),K(e,l-11,7));l=0,a=r,o===0?(f=138,s=3):r===o?(f=6,s=3):(f=7,s=4)}},ga=e=>{let n;for(Hn(e,e.dyn_ltree,e.l_desc.max_code),Hn(e,e.dyn_dtree,e.d_desc.max_code),hn(e,e.bl_desc),n=Rn-1;n>=3&&e.bl_tree[Zi[n]*2+1]===0;n--);return e.opt_len+=3*(n+1)+5+5+4,n},ma=(e,n,t,i)=>{let a;for(K(e,n-257,5),K(e,t-1,5),K(e,i-4,4),a=0;a<i;a++)K(e,e.bl_tree[Zi[a]*2+1],3);On(e,e.dyn_ltree,n-1),On(e,e.dyn_dtree,t-1)},va=e=>{let n=4093624447,t;for(t=0;t<=31;t++,n>>>=1)if(n&1&&e.dyn_ltree[t*2]!==0)return Pn;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Mn;for(t=32;t<wt;t++)if(e.dyn_ltree[t*2]!==0)return Mn;return Pn};let jn=!1;const ka=e=>{jn||(ba(),jn=!0),e.l_desc=new Xt(e.dyn_ltree,Hi),e.d_desc=new Xt(e.dyn_dtree,Oi),e.bl_desc=new Xt(e.bl_tree,ji),e.bi_buf=0,e.bi_valid=0,Yi(e)},Xi=(e,n,t,i)=>{K(e,(oa<<1)+(i?1:0),3),Wi(e),it(e,t),it(e,~t),t&&e.pending_buf.set(e.window.subarray(n,n+t),e.pending),e.pending+=t},Ea=e=>{K(e,Bi<<1,3),le(e,Nn,ue),pa(e)},ya=(e,n,t,i)=>{let a,r,o=0;e.level>0?(e.strm.data_type===sa&&(e.strm.data_type=va(e)),hn(e,e.l_desc),hn(e,e.d_desc),o=ga(e),a=e.opt_len+3+7>>>3,r=e.static_len+3+7>>>3,r<=a&&(a=r)):a=r=t+5,t+4<=a&&n!==-1?Xi(e,n,t,i):e.strategy===la||r===a?(K(e,(Bi<<1)+(i?1:0),3),Zn(e,ue,Je)):(K(e,(fa<<1)+(i?1:0),3),ma(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),Zn(e,e.dyn_ltree,e.dyn_dtree)),Yi(e),i&&Wi(e)},xa=(e,n,t)=>(e.pending_buf[e.sym_buf+e.sym_next++]=n,e.pending_buf[e.sym_buf+e.sym_next++]=n>>8,e.pending_buf[e.sym_buf+e.sym_next++]=t,n===0?e.dyn_ltree[t*2]++:(e.matches++,n--,e.dyn_ltree[(nt[t]+wt+1)*2]++,e.dyn_dtree[Gi(n)*2]++),e.sym_next===e.sym_end);var Ta=ka,Sa=Xi,Aa=ya,Ra=xa,Na=Ea,Da={_tr_init:Ta,_tr_stored_block:Sa,_tr_flush_block:Aa,_tr_tally:Ra,_tr_align:Na};const Ia=(e,n,t,i)=>{let a=e&65535|0,r=e>>>16&65535|0,o=0;for(;t!==0;){o=t>2e3?2e3:t,t-=o;do a=a+n[i++]|0,r=r+a|0;while(--o);a%=65521,r%=65521}return a|r<<16|0};var rt=Ia;const za=()=>{let e,n=[];for(var t=0;t<256;t++){e=t;for(var i=0;i<8;i++)e=e&1?3988292384^e>>>1:e>>>1;n[t]=e}return n},$a=new Uint32Array(za()),La=(e,n,t,i)=>{const a=$a,r=i+t;e^=-1;for(let o=i;o<r;o++)e=e>>>8^a[(e^n[o])&255];return e^-1};var O=La,Ne={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ze={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Ua,_tr_stored_block:un,_tr_flush_block:Ba,_tr_tally:Ee,_tr_align:Ca}=Da,{Z_NO_FLUSH:ye,Z_PARTIAL_FLUSH:Pa,Z_FULL_FLUSH:Ma,Z_FINISH:Q,Z_BLOCK:Gn,Z_OK:j,Z_STREAM_END:Vn,Z_STREAM_ERROR:se,Z_DATA_ERROR:Fa,Z_BUF_ERROR:qt,Z_DEFAULT_COMPRESSION:Za,Z_FILTERED:Ha,Z_HUFFMAN_ONLY:Tt,Z_RLE:Oa,Z_FIXED:ja,Z_DEFAULT_STRATEGY:Ga,Z_UNKNOWN:Va,Z_DEFLATED:Ht}=ze,Ka=9,Ya=15,Wa=8,Xa=29,Ja=256,dn=Ja+1+Xa,qa=30,Qa=19,el=2*dn+1,tl=15,A=3,me=258,oe=me+A+1,nl=32,Fe=42,In=57,_n=69,pn=73,wn=91,bn=103,Ae=113,We=666,G=1,je=2,De=3,Ge=4,il=3,Re=(e,n)=>(e.msg=Ne[n],n),Kn=e=>e*2-(e>4?9:0),ge=e=>{let n=e.length;for(;--n>=0;)e[n]=0},rl=e=>{let n,t,i,a=e.w_size;n=e.hash_size,i=n;do t=e.head[--i],e.head[i]=t>=a?t-a:0;while(--n);n=a,i=n;do t=e.prev[--i],e.prev[i]=t>=a?t-a:0;while(--n)};let al=(e,n,t)=>(n<<e.hash_shift^t)&e.hash_mask,xe=al;const J=e=>{const n=e.state;let t=n.pending;t>e.avail_out&&(t=e.avail_out),t!==0&&(e.output.set(n.pending_buf.subarray(n.pending_out,n.pending_out+t),e.next_out),e.next_out+=t,n.pending_out+=t,e.total_out+=t,e.avail_out-=t,n.pending-=t,n.pending===0&&(n.pending_out=0))},q=(e,n)=>{Ba(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,n),e.block_start=e.strstart,J(e.strm)},D=(e,n)=>{e.pending_buf[e.pending++]=n},Ye=(e,n)=>{e.pending_buf[e.pending++]=n>>>8&255,e.pending_buf[e.pending++]=n&255},gn=(e,n,t,i)=>{let a=e.avail_in;return a>i&&(a=i),a===0?0:(e.avail_in-=a,n.set(e.input.subarray(e.next_in,e.next_in+a),t),e.state.wrap===1?e.adler=rt(e.adler,n,a,t):e.state.wrap===2&&(e.adler=O(e.adler,n,a,t)),e.next_in+=a,e.total_in+=a,a)},Ji=(e,n)=>{let t=e.max_chain_length,i=e.strstart,a,r,o=e.prev_length,l=e.nice_match;const f=e.strstart>e.w_size-oe?e.strstart-(e.w_size-oe):0,s=e.window,c=e.w_mask,d=e.prev,u=e.strstart+me;let h=s[i+o-1],p=s[i+o];e.prev_length>=e.good_match&&(t>>=2),l>e.lookahead&&(l=e.lookahead);do if(a=n,!(s[a+o]!==p||s[a+o-1]!==h||s[a]!==s[i]||s[++a]!==s[i+1])){i+=2,a++;do;while(s[++i]===s[++a]&&s[++i]===s[++a]&&s[++i]===s[++a]&&s[++i]===s[++a]&&s[++i]===s[++a]&&s[++i]===s[++a]&&s[++i]===s[++a]&&s[++i]===s[++a]&&i<u);if(r=me-(u-i),i=u-me,r>o){if(e.match_start=n,o=r,r>=l)break;h=s[i+o-1],p=s[i+o]}}while((n=d[n&c])>f&&--t!==0);return o<=e.lookahead?o:e.lookahead},Ze=e=>{const n=e.w_size;let t,i,a;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=n+(n-oe)&&(e.window.set(e.window.subarray(n,n+n-i),0),e.match_start-=n,e.strstart-=n,e.block_start-=n,e.insert>e.strstart&&(e.insert=e.strstart),rl(e),i+=n),e.strm.avail_in===0)break;if(t=gn(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=t,e.lookahead+e.insert>=A)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=xe(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=xe(e,e.ins_h,e.window[a+A-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<A)););}while(e.lookahead<oe&&e.strm.avail_in!==0)},qi=(e,n)=>{let t=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,i,a,r,o=0,l=e.strm.avail_in;do{if(i=65535,r=e.bi_valid+42>>3,e.strm.avail_out<r||(r=e.strm.avail_out-r,a=e.strstart-e.block_start,i>a+e.strm.avail_in&&(i=a+e.strm.avail_in),i>r&&(i=r),i<t&&(i===0&&n!==Q||n===ye||i!==a+e.strm.avail_in)))break;o=n===Q&&i===a+e.strm.avail_in?1:0,un(e,0,0,o),e.pending_buf[e.pending-4]=i,e.pending_buf[e.pending-3]=i>>8,e.pending_buf[e.pending-2]=~i,e.pending_buf[e.pending-1]=~i>>8,J(e.strm),a&&(a>i&&(a=i),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+a),e.strm.next_out),e.strm.next_out+=a,e.strm.avail_out-=a,e.strm.total_out+=a,e.block_start+=a,i-=a),i&&(gn(e.strm,e.strm.output,e.strm.next_out,i),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i)}while(o===0);return l-=e.strm.avail_in,l&&(l>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=l&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-l,e.strm.next_in),e.strstart),e.strstart+=l,e.insert+=l>e.w_size-e.insert?e.w_size-e.insert:l),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?Ge:n!==ye&&n!==Q&&e.strm.avail_in===0&&e.strstart===e.block_start?je:(r=e.window_size-e.strstart,e.strm.avail_in>r&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,r+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),r>e.strm.avail_in&&(r=e.strm.avail_in),r&&(gn(e.strm,e.window,e.strstart,r),e.strstart+=r,e.insert+=r>e.w_size-e.insert?e.w_size-e.insert:r),e.high_water<e.strstart&&(e.high_water=e.strstart),r=e.bi_valid+42>>3,r=e.pending_buf_size-r>65535?65535:e.pending_buf_size-r,t=r>e.w_size?e.w_size:r,a=e.strstart-e.block_start,(a>=t||(a||n===Q)&&n!==ye&&e.strm.avail_in===0&&a<=r)&&(i=a>r?r:a,o=n===Q&&e.strm.avail_in===0&&i===a?1:0,un(e,e.block_start,i,o),e.block_start+=i,J(e.strm)),o?De:G)},Qt=(e,n)=>{let t,i;for(;;){if(e.lookahead<oe){if(Ze(e),e.lookahead<oe&&n===ye)return G;if(e.lookahead===0)break}if(t=0,e.lookahead>=A&&(e.ins_h=xe(e,e.ins_h,e.window[e.strstart+A-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),t!==0&&e.strstart-t<=e.w_size-oe&&(e.match_length=Ji(e,t)),e.match_length>=A)if(i=Ee(e,e.strstart-e.match_start,e.match_length-A),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=A){e.match_length--;do e.strstart++,e.ins_h=xe(e,e.ins_h,e.window[e.strstart+A-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=xe(e,e.ins_h,e.window[e.strstart+1]);else i=Ee(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(q(e,!1),e.strm.avail_out===0))return G}return e.insert=e.strstart<A-1?e.strstart:A-1,n===Q?(q(e,!0),e.strm.avail_out===0?De:Ge):e.sym_next&&(q(e,!1),e.strm.avail_out===0)?G:je},Le=(e,n)=>{let t,i,a;for(;;){if(e.lookahead<oe){if(Ze(e),e.lookahead<oe&&n===ye)return G;if(e.lookahead===0)break}if(t=0,e.lookahead>=A&&(e.ins_h=xe(e,e.ins_h,e.window[e.strstart+A-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=A-1,t!==0&&e.prev_length<e.max_lazy_match&&e.strstart-t<=e.w_size-oe&&(e.match_length=Ji(e,t),e.match_length<=5&&(e.strategy===Ha||e.match_length===A&&e.strstart-e.match_start>4096)&&(e.match_length=A-1)),e.prev_length>=A&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-A,i=Ee(e,e.strstart-1-e.prev_match,e.prev_length-A),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=a&&(e.ins_h=xe(e,e.ins_h,e.window[e.strstart+A-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=A-1,e.strstart++,i&&(q(e,!1),e.strm.avail_out===0))return G}else if(e.match_available){if(i=Ee(e,0,e.window[e.strstart-1]),i&&q(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return G}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=Ee(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<A-1?e.strstart:A-1,n===Q?(q(e,!0),e.strm.avail_out===0?De:Ge):e.sym_next&&(q(e,!1),e.strm.avail_out===0)?G:je},ll=(e,n)=>{let t,i,a,r;const o=e.window;for(;;){if(e.lookahead<=me){if(Ze(e),e.lookahead<=me&&n===ye)return G;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=A&&e.strstart>0&&(a=e.strstart-1,i=o[a],i===o[++a]&&i===o[++a]&&i===o[++a])){r=e.strstart+me;do;while(i===o[++a]&&i===o[++a]&&i===o[++a]&&i===o[++a]&&i===o[++a]&&i===o[++a]&&i===o[++a]&&i===o[++a]&&a<r);e.match_length=me-(r-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=A?(t=Ee(e,1,e.match_length-A),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(t=Ee(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),t&&(q(e,!1),e.strm.avail_out===0))return G}return e.insert=0,n===Q?(q(e,!0),e.strm.avail_out===0?De:Ge):e.sym_next&&(q(e,!1),e.strm.avail_out===0)?G:je},sl=(e,n)=>{let t;for(;;){if(e.lookahead===0&&(Ze(e),e.lookahead===0)){if(n===ye)return G;break}if(e.match_length=0,t=Ee(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,t&&(q(e,!1),e.strm.avail_out===0))return G}return e.insert=0,n===Q?(q(e,!0),e.strm.avail_out===0?De:Ge):e.sym_next&&(q(e,!1),e.strm.avail_out===0)?G:je};function ae(e,n,t,i,a){this.good_length=e,this.max_lazy=n,this.nice_length=t,this.max_chain=i,this.func=a}const Xe=[new ae(0,0,0,0,qi),new ae(4,4,8,4,Qt),new ae(4,5,16,8,Qt),new ae(4,6,32,32,Qt),new ae(4,4,16,16,Le),new ae(8,16,32,32,Le),new ae(8,16,128,128,Le),new ae(8,32,128,256,Le),new ae(32,128,258,1024,Le),new ae(32,258,258,4096,Le)],ol=e=>{e.window_size=2*e.w_size,ge(e.head),e.max_lazy_match=Xe[e.level].max_lazy,e.good_match=Xe[e.level].good_length,e.nice_match=Xe[e.level].nice_length,e.max_chain_length=Xe[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=A-1,e.match_available=0,e.ins_h=0};function fl(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ht,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(el*2),this.dyn_dtree=new Uint16Array((2*qa+1)*2),this.bl_tree=new Uint16Array((2*Qa+1)*2),ge(this.dyn_ltree),ge(this.dyn_dtree),ge(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(tl+1),this.heap=new Uint16Array(2*dn+1),ge(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*dn+1),ge(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const bt=e=>{if(!e)return 1;const n=e.state;return!n||n.strm!==e||n.status!==Fe&&n.status!==In&&n.status!==_n&&n.status!==pn&&n.status!==wn&&n.status!==bn&&n.status!==Ae&&n.status!==We?1:0},Qi=e=>{if(bt(e))return Re(e,se);e.total_in=e.total_out=0,e.data_type=Va;const n=e.state;return n.pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=n.wrap===2?In:n.wrap?Fe:Ae,e.adler=n.wrap===2?0:1,n.last_flush=-2,Ua(n),j},er=e=>{const n=Qi(e);return n===j&&ol(e.state),n},cl=(e,n)=>bt(e)||e.state.wrap!==2?se:(e.state.gzhead=n,j),tr=(e,n,t,i,a,r)=>{if(!e)return se;let o=1;if(n===Za&&(n=6),i<0?(o=0,i=-i):i>15&&(o=2,i-=16),a<1||a>Ka||t!==Ht||i<8||i>15||n<0||n>9||r<0||r>ja||i===8&&o!==1)return Re(e,se);i===8&&(i=9);const l=new fl;return e.state=l,l.strm=e,l.status=Fe,l.wrap=o,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+A-1)/A),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=(l.lit_bufsize-1)*3,l.level=n,l.strategy=r,l.method=t,er(e)},hl=(e,n)=>tr(e,n,Ht,Ya,Wa,Ga),ul=(e,n)=>{if(bt(e)||n>Gn||n<0)return e?Re(e,se):se;const t=e.state;if(!e.output||e.avail_in!==0&&!e.input||t.status===We&&n!==Q)return Re(e,e.avail_out===0?qt:se);const i=t.last_flush;if(t.last_flush=n,t.pending!==0){if(J(e),e.avail_out===0)return t.last_flush=-1,j}else if(e.avail_in===0&&Kn(n)<=Kn(i)&&n!==Q)return Re(e,qt);if(t.status===We&&e.avail_in!==0)return Re(e,qt);if(t.status===Fe&&t.wrap===0&&(t.status=Ae),t.status===Fe){let a=Ht+(t.w_bits-8<<4)<<8,r=-1;if(t.strategy>=Tt||t.level<2?r=0:t.level<6?r=1:t.level===6?r=2:r=3,a|=r<<6,t.strstart!==0&&(a|=nl),a+=31-a%31,Ye(t,a),t.strstart!==0&&(Ye(t,e.adler>>>16),Ye(t,e.adler&65535)),e.adler=1,t.status=Ae,J(e),t.pending!==0)return t.last_flush=-1,j}if(t.status===In){if(e.adler=0,D(t,31),D(t,139),D(t,8),t.gzhead)D(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),D(t,t.gzhead.time&255),D(t,t.gzhead.time>>8&255),D(t,t.gzhead.time>>16&255),D(t,t.gzhead.time>>24&255),D(t,t.level===9?2:t.strategy>=Tt||t.level<2?4:0),D(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(D(t,t.gzhead.extra.length&255),D(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(e.adler=O(e.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=_n;else if(D(t,0),D(t,0),D(t,0),D(t,0),D(t,0),D(t,t.level===9?2:t.strategy>=Tt||t.level<2?4:0),D(t,il),t.status=Ae,J(e),t.pending!==0)return t.last_flush=-1,j}if(t.status===_n){if(t.gzhead.extra){let a=t.pending,r=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+r>t.pending_buf_size;){let l=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+l),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>a&&(e.adler=O(e.adler,t.pending_buf,t.pending-a,a)),t.gzindex+=l,J(e),t.pending!==0)return t.last_flush=-1,j;a=0,r-=l}let o=new Uint8Array(t.gzhead.extra);t.pending_buf.set(o.subarray(t.gzindex,t.gzindex+r),t.pending),t.pending+=r,t.gzhead.hcrc&&t.pending>a&&(e.adler=O(e.adler,t.pending_buf,t.pending-a,a)),t.gzindex=0}t.status=pn}if(t.status===pn){if(t.gzhead.name){let a=t.pending,r;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>a&&(e.adler=O(e.adler,t.pending_buf,t.pending-a,a)),J(e),t.pending!==0)return t.last_flush=-1,j;a=0}t.gzindex<t.gzhead.name.length?r=t.gzhead.name.charCodeAt(t.gzindex++)&255:r=0,D(t,r)}while(r!==0);t.gzhead.hcrc&&t.pending>a&&(e.adler=O(e.adler,t.pending_buf,t.pending-a,a)),t.gzindex=0}t.status=wn}if(t.status===wn){if(t.gzhead.comment){let a=t.pending,r;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>a&&(e.adler=O(e.adler,t.pending_buf,t.pending-a,a)),J(e),t.pending!==0)return t.last_flush=-1,j;a=0}t.gzindex<t.gzhead.comment.length?r=t.gzhead.comment.charCodeAt(t.gzindex++)&255:r=0,D(t,r)}while(r!==0);t.gzhead.hcrc&&t.pending>a&&(e.adler=O(e.adler,t.pending_buf,t.pending-a,a))}t.status=bn}if(t.status===bn){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(J(e),t.pending!==0))return t.last_flush=-1,j;D(t,e.adler&255),D(t,e.adler>>8&255),e.adler=0}if(t.status=Ae,J(e),t.pending!==0)return t.last_flush=-1,j}if(e.avail_in!==0||t.lookahead!==0||n!==ye&&t.status!==We){let a=t.level===0?qi(t,n):t.strategy===Tt?sl(t,n):t.strategy===Oa?ll(t,n):Xe[t.level].func(t,n);if((a===De||a===Ge)&&(t.status=We),a===G||a===De)return e.avail_out===0&&(t.last_flush=-1),j;if(a===je&&(n===Pa?Ca(t):n!==Gn&&(un(t,0,0,!1),n===Ma&&(ge(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),J(e),e.avail_out===0))return t.last_flush=-1,j}return n!==Q?j:t.wrap<=0?Vn:(t.wrap===2?(D(t,e.adler&255),D(t,e.adler>>8&255),D(t,e.adler>>16&255),D(t,e.adler>>24&255),D(t,e.total_in&255),D(t,e.total_in>>8&255),D(t,e.total_in>>16&255),D(t,e.total_in>>24&255)):(Ye(t,e.adler>>>16),Ye(t,e.adler&65535)),J(e),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?j:Vn)},dl=e=>{if(bt(e))return se;const n=e.state.status;return e.state=null,n===Ae?Re(e,Fa):j},_l=(e,n)=>{let t=n.length;if(bt(e))return se;const i=e.state,a=i.wrap;if(a===2||a===1&&i.status!==Fe||i.lookahead)return se;if(a===1&&(e.adler=rt(e.adler,n,t,0)),i.wrap=0,t>=i.w_size){a===0&&(ge(i.head),i.strstart=0,i.block_start=0,i.insert=0);let f=new Uint8Array(i.w_size);f.set(n.subarray(t-i.w_size,t),0),n=f,t=i.w_size}const r=e.avail_in,o=e.next_in,l=e.input;for(e.avail_in=t,e.next_in=0,e.input=n,Ze(i);i.lookahead>=A;){let f=i.strstart,s=i.lookahead-(A-1);do i.ins_h=xe(i,i.ins_h,i.window[f+A-1]),i.prev[f&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=f,f++;while(--s);i.strstart=f,i.lookahead=A-1,Ze(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=A-1,i.match_available=0,e.next_in=o,e.input=l,e.avail_in=r,i.wrap=a,j};var pl=hl,wl=tr,bl=er,gl=Qi,ml=cl,vl=ul,kl=dl,El=_l,yl="pako deflate (from Nodeca project)",qe={deflateInit:pl,deflateInit2:wl,deflateReset:bl,deflateResetKeep:gl,deflateSetHeader:ml,deflate:vl,deflateEnd:kl,deflateSetDictionary:El,deflateInfo:yl};const xl=(e,n)=>Object.prototype.hasOwnProperty.call(e,n);var Tl=function(e){const n=Array.prototype.slice.call(arguments,1);for(;n.length;){const t=n.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const i in t)xl(t,i)&&(e[i]=t[i])}}return e},Sl=e=>{let n=0;for(let i=0,a=e.length;i<a;i++)n+=e[i].length;const t=new Uint8Array(n);for(let i=0,a=0,r=e.length;i<r;i++){let o=e[i];t.set(o,a),a+=o.length}return t},Ot={assign:Tl,flattenChunks:Sl};let nr=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{nr=!1}const at=new Uint8Array(256);for(let e=0;e<256;e++)at[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;at[254]=at[254]=1;var Al=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let n,t,i,a,r,o=e.length,l=0;for(a=0;a<o;a++)t=e.charCodeAt(a),(t&64512)===55296&&a+1<o&&(i=e.charCodeAt(a+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),a++)),l+=t<128?1:t<2048?2:t<65536?3:4;for(n=new Uint8Array(l),r=0,a=0;r<l;a++)t=e.charCodeAt(a),(t&64512)===55296&&a+1<o&&(i=e.charCodeAt(a+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),a++)),t<128?n[r++]=t:t<2048?(n[r++]=192|t>>>6,n[r++]=128|t&63):t<65536?(n[r++]=224|t>>>12,n[r++]=128|t>>>6&63,n[r++]=128|t&63):(n[r++]=240|t>>>18,n[r++]=128|t>>>12&63,n[r++]=128|t>>>6&63,n[r++]=128|t&63);return n};const Rl=(e,n)=>{if(n<65534&&e.subarray&&nr)return String.fromCharCode.apply(null,e.length===n?e:e.subarray(0,n));let t="";for(let i=0;i<n;i++)t+=String.fromCharCode(e[i]);return t};var Nl=(e,n)=>{const t=n||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,n));let i,a;const r=new Array(t*2);for(a=0,i=0;i<t;){let o=e[i++];if(o<128){r[a++]=o;continue}let l=at[o];if(l>4){r[a++]=65533,i+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&i<t;)o=o<<6|e[i++]&63,l--;if(l>1){r[a++]=65533;continue}o<65536?r[a++]=o:(o-=65536,r[a++]=55296|o>>10&1023,r[a++]=56320|o&1023)}return Rl(r,a)},Dl=(e,n)=>{n=n||e.length,n>e.length&&(n=e.length);let t=n-1;for(;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?n:t+at[e[t]]>n?t:n},lt={string2buf:Al,buf2string:Nl,utf8border:Dl};function Il(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var ir=Il;const rr=Object.prototype.toString,{Z_NO_FLUSH:zl,Z_SYNC_FLUSH:$l,Z_FULL_FLUSH:Ll,Z_FINISH:Ul,Z_OK:Pt,Z_STREAM_END:Bl,Z_DEFAULT_COMPRESSION:Cl,Z_DEFAULT_STRATEGY:Pl,Z_DEFLATED:Ml}=ze;function gt(e){this.options=Ot.assign({level:Cl,method:Ml,chunkSize:16384,windowBits:15,memLevel:8,strategy:Pl},e||{});let n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ir,this.strm.avail_out=0;let t=qe.deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(t!==Pt)throw new Error(Ne[t]);if(n.header&&qe.deflateSetHeader(this.strm,n.header),n.dictionary){let i;if(typeof n.dictionary=="string"?i=lt.string2buf(n.dictionary):rr.call(n.dictionary)==="[object ArrayBuffer]"?i=new Uint8Array(n.dictionary):i=n.dictionary,t=qe.deflateSetDictionary(this.strm,i),t!==Pt)throw new Error(Ne[t]);this._dict_set=!0}}gt.prototype.push=function(e,n){const t=this.strm,i=this.options.chunkSize;let a,r;if(this.ended)return!1;for(n===~~n?r=n:r=n===!0?Ul:zl,typeof e=="string"?t.input=lt.string2buf(e):rr.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),(r===$l||r===Ll)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(a=qe.deflate(t,r),a===Bl)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),a=qe.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===Pt;if(t.avail_out===0){this.onData(t.output);continue}if(r>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};gt.prototype.onData=function(e){this.chunks.push(e)};gt.prototype.onEnd=function(e){e===Pt&&(this.result=Ot.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function zn(e,n){const t=new gt(n);if(t.push(e,!0),t.err)throw t.msg||Ne[t.err];return t.result}function Fl(e,n){return n=n||{},n.raw=!0,zn(e,n)}function Zl(e,n){return n=n||{},n.gzip=!0,zn(e,n)}var Hl=gt,Ol=zn,jl=Fl,Gl=Zl,Vl=ze,Kl={Deflate:Hl,deflate:Ol,deflateRaw:jl,gzip:Gl,constants:Vl};const St=16209,Yl=16191;var Wl=function(n,t){let i,a,r,o,l,f,s,c,d,u,h,p,L,b,g,y,x,_,N,H,v,I,R,k;const T=n.state;i=n.next_in,R=n.input,a=i+(n.avail_in-5),r=n.next_out,k=n.output,o=r-(t-n.avail_out),l=r+(n.avail_out-257),f=T.dmax,s=T.wsize,c=T.whave,d=T.wnext,u=T.window,h=T.hold,p=T.bits,L=T.lencode,b=T.distcode,g=(1<<T.lenbits)-1,y=(1<<T.distbits)-1;e:do{p<15&&(h+=R[i++]<<p,p+=8,h+=R[i++]<<p,p+=8),x=L[h&g];t:for(;;){if(_=x>>>24,h>>>=_,p-=_,_=x>>>16&255,_===0)k[r++]=x&65535;else if(_&16){N=x&65535,_&=15,_&&(p<_&&(h+=R[i++]<<p,p+=8),N+=h&(1<<_)-1,h>>>=_,p-=_),p<15&&(h+=R[i++]<<p,p+=8,h+=R[i++]<<p,p+=8),x=b[h&y];n:for(;;){if(_=x>>>24,h>>>=_,p-=_,_=x>>>16&255,_&16){if(H=x&65535,_&=15,p<_&&(h+=R[i++]<<p,p+=8,p<_&&(h+=R[i++]<<p,p+=8)),H+=h&(1<<_)-1,H>f){n.msg="invalid distance too far back",T.mode=St;break e}if(h>>>=_,p-=_,_=r-o,H>_){if(_=H-_,_>c&&T.sane){n.msg="invalid distance too far back",T.mode=St;break e}if(v=0,I=u,d===0){if(v+=s-_,_<N){N-=_;do k[r++]=u[v++];while(--_);v=r-H,I=k}}else if(d<_){if(v+=s+d-_,_-=d,_<N){N-=_;do k[r++]=u[v++];while(--_);if(v=0,d<N){_=d,N-=_;do k[r++]=u[v++];while(--_);v=r-H,I=k}}}else if(v+=d-_,_<N){N-=_;do k[r++]=u[v++];while(--_);v=r-H,I=k}for(;N>2;)k[r++]=I[v++],k[r++]=I[v++],k[r++]=I[v++],N-=3;N&&(k[r++]=I[v++],N>1&&(k[r++]=I[v++]))}else{v=r-H;do k[r++]=k[v++],k[r++]=k[v++],k[r++]=k[v++],N-=3;while(N>2);N&&(k[r++]=k[v++],N>1&&(k[r++]=k[v++]))}}else if(_&64){n.msg="invalid distance code",T.mode=St;break e}else{x=b[(x&65535)+(h&(1<<_)-1)];continue n}break}}else if(_&64)if(_&32){T.mode=Yl;break e}else{n.msg="invalid literal/length code",T.mode=St;break e}else{x=L[(x&65535)+(h&(1<<_)-1)];continue t}break}}while(i<a&&r<l);N=p>>3,i-=N,p-=N<<3,h&=(1<<p)-1,n.next_in=i,n.next_out=r,n.avail_in=i<a?5+(a-i):5-(i-a),n.avail_out=r<l?257+(l-r):257-(r-l),T.hold=h,T.bits=p};const Ue=15,Yn=852,Wn=592,Xn=0,en=1,Jn=2,Xl=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Jl=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ql=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ql=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),es=(e,n,t,i,a,r,o,l)=>{const f=l.bits;let s=0,c=0,d=0,u=0,h=0,p=0,L=0,b=0,g=0,y=0,x,_,N,H,v,I=null,R;const k=new Uint16Array(Ue+1),T=new Uint16Array(Ue+1);let Te=null,Ln,vt,kt;for(s=0;s<=Ue;s++)k[s]=0;for(c=0;c<i;c++)k[n[t+c]]++;for(h=f,u=Ue;u>=1&&k[u]===0;u--);if(h>u&&(h=u),u===0)return a[r++]=1<<24|64<<16|0,a[r++]=1<<24|64<<16|0,l.bits=1,0;for(d=1;d<u&&k[d]===0;d++);for(h<d&&(h=d),b=1,s=1;s<=Ue;s++)if(b<<=1,b-=k[s],b<0)return-1;if(b>0&&(e===Xn||u!==1))return-1;for(T[1]=0,s=1;s<Ue;s++)T[s+1]=T[s]+k[s];for(c=0;c<i;c++)n[t+c]!==0&&(o[T[n[t+c]]++]=c);if(e===Xn?(I=Te=o,R=20):e===en?(I=Xl,Te=Jl,R=257):(I=ql,Te=Ql,R=0),y=0,c=0,s=d,v=r,p=h,L=0,N=-1,g=1<<h,H=g-1,e===en&&g>Yn||e===Jn&&g>Wn)return 1;for(;;){Ln=s-L,o[c]+1<R?(vt=0,kt=o[c]):o[c]>=R?(vt=Te[o[c]-R],kt=I[o[c]-R]):(vt=32+64,kt=0),x=1<<s-L,_=1<<p,d=_;do _-=x,a[v+(y>>L)+_]=Ln<<24|vt<<16|kt|0;while(_!==0);for(x=1<<s-1;y&x;)x>>=1;if(x!==0?(y&=x-1,y+=x):y=0,c++,--k[s]===0){if(s===u)break;s=n[t+o[c]]}if(s>h&&(y&H)!==N){for(L===0&&(L=h),v+=d,p=s-L,b=1<<p;p+L<u&&(b-=k[p+L],!(b<=0));)p++,b<<=1;if(g+=1<<p,e===en&&g>Yn||e===Jn&&g>Wn)return 1;N=y&H,a[N]=h<<24|p<<16|v-r|0}}return y!==0&&(a[v+y]=s-L<<24|64<<16|0),l.bits=h,0};var Qe=es;const ts=0,ar=1,lr=2,{Z_FINISH:qn,Z_BLOCK:ns,Z_TREES:At,Z_OK:Ie,Z_STREAM_END:is,Z_NEED_DICT:rs,Z_STREAM_ERROR:ne,Z_DATA_ERROR:sr,Z_MEM_ERROR:or,Z_BUF_ERROR:as,Z_DEFLATED:Qn}=ze,jt=16180,ei=16181,ti=16182,ni=16183,ii=16184,ri=16185,ai=16186,li=16187,si=16188,oi=16189,Mt=16190,he=16191,tn=16192,fi=16193,nn=16194,ci=16195,hi=16196,ui=16197,di=16198,Rt=16199,Nt=16200,_i=16201,pi=16202,wi=16203,bi=16204,gi=16205,rn=16206,mi=16207,vi=16208,C=16209,fr=16210,cr=16211,ls=852,ss=592,os=15,fs=os,ki=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function cs(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const $e=e=>{if(!e)return 1;const n=e.state;return!n||n.strm!==e||n.mode<jt||n.mode>cr?1:0},hr=e=>{if($e(e))return ne;const n=e.state;return e.total_in=e.total_out=n.total=0,e.msg="",n.wrap&&(e.adler=n.wrap&1),n.mode=jt,n.last=0,n.havedict=0,n.flags=-1,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new Int32Array(ls),n.distcode=n.distdyn=new Int32Array(ss),n.sane=1,n.back=-1,Ie},ur=e=>{if($e(e))return ne;const n=e.state;return n.wsize=0,n.whave=0,n.wnext=0,hr(e)},dr=(e,n)=>{let t;if($e(e))return ne;const i=e.state;return n<0?(t=0,n=-n):(t=(n>>4)+5,n<48&&(n&=15)),n&&(n<8||n>15)?ne:(i.window!==null&&i.wbits!==n&&(i.window=null),i.wrap=t,i.wbits=n,ur(e))},_r=(e,n)=>{if(!e)return ne;const t=new cs;e.state=t,t.strm=e,t.window=null,t.mode=jt;const i=dr(e,n);return i!==Ie&&(e.state=null),i},hs=e=>_r(e,fs);let Ei=!0,an,ln;const us=e=>{if(Ei){an=new Int32Array(512),ln=new Int32Array(32);let n=0;for(;n<144;)e.lens[n++]=8;for(;n<256;)e.lens[n++]=9;for(;n<280;)e.lens[n++]=7;for(;n<288;)e.lens[n++]=8;for(Qe(ar,e.lens,0,288,an,0,e.work,{bits:9}),n=0;n<32;)e.lens[n++]=5;Qe(lr,e.lens,0,32,ln,0,e.work,{bits:5}),Ei=!1}e.lencode=an,e.lenbits=9,e.distcode=ln,e.distbits=5},pr=(e,n,t,i)=>{let a;const r=e.state;return r.window===null&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Uint8Array(r.wsize)),i>=r.wsize?(r.window.set(n.subarray(t-r.wsize,t),0),r.wnext=0,r.whave=r.wsize):(a=r.wsize-r.wnext,a>i&&(a=i),r.window.set(n.subarray(t-i,t-i+a),r.wnext),i-=a,i?(r.window.set(n.subarray(t-i,t),0),r.wnext=i,r.whave=r.wsize):(r.wnext+=a,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=a))),0},ds=(e,n)=>{let t,i,a,r,o,l,f,s,c,d,u,h,p,L,b=0,g,y,x,_,N,H,v,I;const R=new Uint8Array(4);let k,T;const Te=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if($e(e)||!e.output||!e.input&&e.avail_in!==0)return ne;t=e.state,t.mode===he&&(t.mode=tn),o=e.next_out,a=e.output,f=e.avail_out,r=e.next_in,i=e.input,l=e.avail_in,s=t.hold,c=t.bits,d=l,u=f,I=Ie;e:for(;;)switch(t.mode){case jt:if(t.wrap===0){t.mode=tn;break}for(;c<16;){if(l===0)break e;l--,s+=i[r++]<<c,c+=8}if(t.wrap&2&&s===35615){t.wbits===0&&(t.wbits=15),t.check=0,R[0]=s&255,R[1]=s>>>8&255,t.check=O(t.check,R,2,0),s=0,c=0,t.mode=ei;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((s&255)<<8)+(s>>8))%31){e.msg="incorrect header check",t.mode=C;break}if((s&15)!==Qn){e.msg="unknown compression method",t.mode=C;break}if(s>>>=4,c-=4,v=(s&15)+8,t.wbits===0&&(t.wbits=v),v>15||v>t.wbits){e.msg="invalid window size",t.mode=C;break}t.dmax=1<<t.wbits,t.flags=0,e.adler=t.check=1,t.mode=s&512?oi:he,s=0,c=0;break;case ei:for(;c<16;){if(l===0)break e;l--,s+=i[r++]<<c,c+=8}if(t.flags=s,(t.flags&255)!==Qn){e.msg="unknown compression method",t.mode=C;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=C;break}t.head&&(t.head.text=s>>8&1),t.flags&512&&t.wrap&4&&(R[0]=s&255,R[1]=s>>>8&255,t.check=O(t.check,R,2,0)),s=0,c=0,t.mode=ti;case ti:for(;c<32;){if(l===0)break e;l--,s+=i[r++]<<c,c+=8}t.head&&(t.head.time=s),t.flags&512&&t.wrap&4&&(R[0]=s&255,R[1]=s>>>8&255,R[2]=s>>>16&255,R[3]=s>>>24&255,t.check=O(t.check,R,4,0)),s=0,c=0,t.mode=ni;case ni:for(;c<16;){if(l===0)break e;l--,s+=i[r++]<<c,c+=8}t.head&&(t.head.xflags=s&255,t.head.os=s>>8),t.flags&512&&t.wrap&4&&(R[0]=s&255,R[1]=s>>>8&255,t.check=O(t.check,R,2,0)),s=0,c=0,t.mode=ii;case ii:if(t.flags&1024){for(;c<16;){if(l===0)break e;l--,s+=i[r++]<<c,c+=8}t.length=s,t.head&&(t.head.extra_len=s),t.flags&512&&t.wrap&4&&(R[0]=s&255,R[1]=s>>>8&255,t.check=O(t.check,R,2,0)),s=0,c=0}else t.head&&(t.head.extra=null);t.mode=ri;case ri:if(t.flags&1024&&(h=t.length,h>l&&(h=l),h&&(t.head&&(v=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(i.subarray(r,r+h),v)),t.flags&512&&t.wrap&4&&(t.check=O(t.check,i,h,r)),l-=h,r+=h,t.length-=h),t.length))break e;t.length=0,t.mode=ai;case ai:if(t.flags&2048){if(l===0)break e;h=0;do v=i[r+h++],t.head&&v&&t.length<65536&&(t.head.name+=String.fromCharCode(v));while(v&&h<l);if(t.flags&512&&t.wrap&4&&(t.check=O(t.check,i,h,r)),l-=h,r+=h,v)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=li;case li:if(t.flags&4096){if(l===0)break e;h=0;do v=i[r+h++],t.head&&v&&t.length<65536&&(t.head.comment+=String.fromCharCode(v));while(v&&h<l);if(t.flags&512&&t.wrap&4&&(t.check=O(t.check,i,h,r)),l-=h,r+=h,v)break e}else t.head&&(t.head.comment=null);t.mode=si;case si:if(t.flags&512){for(;c<16;){if(l===0)break e;l--,s+=i[r++]<<c,c+=8}if(t.wrap&4&&s!==(t.check&65535)){e.msg="header crc mismatch",t.mode=C;break}s=0,c=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=he;break;case oi:for(;c<32;){if(l===0)break e;l--,s+=i[r++]<<c,c+=8}e.adler=t.check=ki(s),s=0,c=0,t.mode=Mt;case Mt:if(t.havedict===0)return e.next_out=o,e.avail_out=f,e.next_in=r,e.avail_in=l,t.hold=s,t.bits=c,rs;e.adler=t.check=1,t.mode=he;case he:if(n===ns||n===At)break e;case tn:if(t.last){s>>>=c&7,c-=c&7,t.mode=rn;break}for(;c<3;){if(l===0)break e;l--,s+=i[r++]<<c,c+=8}switch(t.last=s&1,s>>>=1,c-=1,s&3){case 0:t.mode=fi;break;case 1:if(us(t),t.mode=Rt,n===At){s>>>=2,c-=2;break e}break;case 2:t.mode=hi;break;case 3:e.msg="invalid block type",t.mode=C}s>>>=2,c-=2;break;case fi:for(s>>>=c&7,c-=c&7;c<32;){if(l===0)break e;l--,s+=i[r++]<<c,c+=8}if((s&65535)!==(s>>>16^65535)){e.msg="invalid stored block lengths",t.mode=C;break}if(t.length=s&65535,s=0,c=0,t.mode=nn,n===At)break e;case nn:t.mode=ci;case ci:if(h=t.length,h){if(h>l&&(h=l),h>f&&(h=f),h===0)break e;a.set(i.subarray(r,r+h),o),l-=h,r+=h,f-=h,o+=h,t.length-=h;break}t.mode=he;break;case hi:for(;c<14;){if(l===0)break e;l--,s+=i[r++]<<c,c+=8}if(t.nlen=(s&31)+257,s>>>=5,c-=5,t.ndist=(s&31)+1,s>>>=5,c-=5,t.ncode=(s&15)+4,s>>>=4,c-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=C;break}t.have=0,t.mode=ui;case ui:for(;t.have<t.ncode;){for(;c<3;){if(l===0)break e;l--,s+=i[r++]<<c,c+=8}t.lens[Te[t.have++]]=s&7,s>>>=3,c-=3}for(;t.have<19;)t.lens[Te[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,k={bits:t.lenbits},I=Qe(ts,t.lens,0,19,t.lencode,0,t.work,k),t.lenbits=k.bits,I){e.msg="invalid code lengths set",t.mode=C;break}t.have=0,t.mode=di;case di:for(;t.have<t.nlen+t.ndist;){for(;b=t.lencode[s&(1<<t.lenbits)-1],g=b>>>24,y=b>>>16&255,x=b&65535,!(g<=c);){if(l===0)break e;l--,s+=i[r++]<<c,c+=8}if(x<16)s>>>=g,c-=g,t.lens[t.have++]=x;else{if(x===16){for(T=g+2;c<T;){if(l===0)break e;l--,s+=i[r++]<<c,c+=8}if(s>>>=g,c-=g,t.have===0){e.msg="invalid bit length repeat",t.mode=C;break}v=t.lens[t.have-1],h=3+(s&3),s>>>=2,c-=2}else if(x===17){for(T=g+3;c<T;){if(l===0)break e;l--,s+=i[r++]<<c,c+=8}s>>>=g,c-=g,v=0,h=3+(s&7),s>>>=3,c-=3}else{for(T=g+7;c<T;){if(l===0)break e;l--,s+=i[r++]<<c,c+=8}s>>>=g,c-=g,v=0,h=11+(s&127),s>>>=7,c-=7}if(t.have+h>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=C;break}for(;h--;)t.lens[t.have++]=v}}if(t.mode===C)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=C;break}if(t.lenbits=9,k={bits:t.lenbits},I=Qe(ar,t.lens,0,t.nlen,t.lencode,0,t.work,k),t.lenbits=k.bits,I){e.msg="invalid literal/lengths set",t.mode=C;break}if(t.distbits=6,t.distcode=t.distdyn,k={bits:t.distbits},I=Qe(lr,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,k),t.distbits=k.bits,I){e.msg="invalid distances set",t.mode=C;break}if(t.mode=Rt,n===At)break e;case Rt:t.mode=Nt;case Nt:if(l>=6&&f>=258){e.next_out=o,e.avail_out=f,e.next_in=r,e.avail_in=l,t.hold=s,t.bits=c,Wl(e,u),o=e.next_out,a=e.output,f=e.avail_out,r=e.next_in,i=e.input,l=e.avail_in,s=t.hold,c=t.bits,t.mode===he&&(t.back=-1);break}for(t.back=0;b=t.lencode[s&(1<<t.lenbits)-1],g=b>>>24,y=b>>>16&255,x=b&65535,!(g<=c);){if(l===0)break e;l--,s+=i[r++]<<c,c+=8}if(y&&!(y&240)){for(_=g,N=y,H=x;b=t.lencode[H+((s&(1<<_+N)-1)>>_)],g=b>>>24,y=b>>>16&255,x=b&65535,!(_+g<=c);){if(l===0)break e;l--,s+=i[r++]<<c,c+=8}s>>>=_,c-=_,t.back+=_}if(s>>>=g,c-=g,t.back+=g,t.length=x,y===0){t.mode=gi;break}if(y&32){t.back=-1,t.mode=he;break}if(y&64){e.msg="invalid literal/length code",t.mode=C;break}t.extra=y&15,t.mode=_i;case _i:if(t.extra){for(T=t.extra;c<T;){if(l===0)break e;l--,s+=i[r++]<<c,c+=8}t.length+=s&(1<<t.extra)-1,s>>>=t.extra,c-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=pi;case pi:for(;b=t.distcode[s&(1<<t.distbits)-1],g=b>>>24,y=b>>>16&255,x=b&65535,!(g<=c);){if(l===0)break e;l--,s+=i[r++]<<c,c+=8}if(!(y&240)){for(_=g,N=y,H=x;b=t.distcode[H+((s&(1<<_+N)-1)>>_)],g=b>>>24,y=b>>>16&255,x=b&65535,!(_+g<=c);){if(l===0)break e;l--,s+=i[r++]<<c,c+=8}s>>>=_,c-=_,t.back+=_}if(s>>>=g,c-=g,t.back+=g,y&64){e.msg="invalid distance code",t.mode=C;break}t.offset=x,t.extra=y&15,t.mode=wi;case wi:if(t.extra){for(T=t.extra;c<T;){if(l===0)break e;l--,s+=i[r++]<<c,c+=8}t.offset+=s&(1<<t.extra)-1,s>>>=t.extra,c-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=C;break}t.mode=bi;case bi:if(f===0)break e;if(h=u-f,t.offset>h){if(h=t.offset-h,h>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=C;break}h>t.wnext?(h-=t.wnext,p=t.wsize-h):p=t.wnext-h,h>t.length&&(h=t.length),L=t.window}else L=a,p=o-t.offset,h=t.length;h>f&&(h=f),f-=h,t.length-=h;do a[o++]=L[p++];while(--h);t.length===0&&(t.mode=Nt);break;case gi:if(f===0)break e;a[o++]=t.length,f--,t.mode=Nt;break;case rn:if(t.wrap){for(;c<32;){if(l===0)break e;l--,s|=i[r++]<<c,c+=8}if(u-=f,e.total_out+=u,t.total+=u,t.wrap&4&&u&&(e.adler=t.check=t.flags?O(t.check,a,u,o-u):rt(t.check,a,u,o-u)),u=f,t.wrap&4&&(t.flags?s:ki(s))!==t.check){e.msg="incorrect data check",t.mode=C;break}s=0,c=0}t.mode=mi;case mi:if(t.wrap&&t.flags){for(;c<32;){if(l===0)break e;l--,s+=i[r++]<<c,c+=8}if(t.wrap&4&&s!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=C;break}s=0,c=0}t.mode=vi;case vi:I=is;break e;case C:I=sr;break e;case fr:return or;case cr:default:return ne}return e.next_out=o,e.avail_out=f,e.next_in=r,e.avail_in=l,t.hold=s,t.bits=c,(t.wsize||u!==e.avail_out&&t.mode<C&&(t.mode<rn||n!==qn))&&pr(e,e.output,e.next_out,u-e.avail_out),d-=e.avail_in,u-=e.avail_out,e.total_in+=d,e.total_out+=u,t.total+=u,t.wrap&4&&u&&(e.adler=t.check=t.flags?O(t.check,a,u,e.next_out-u):rt(t.check,a,u,e.next_out-u)),e.data_type=t.bits+(t.last?64:0)+(t.mode===he?128:0)+(t.mode===Rt||t.mode===nn?256:0),(d===0&&u===0||n===qn)&&I===Ie&&(I=as),I},_s=e=>{if($e(e))return ne;let n=e.state;return n.window&&(n.window=null),e.state=null,Ie},ps=(e,n)=>{if($e(e))return ne;const t=e.state;return t.wrap&2?(t.head=n,n.done=!1,Ie):ne},ws=(e,n)=>{const t=n.length;let i,a,r;return $e(e)||(i=e.state,i.wrap!==0&&i.mode!==Mt)?ne:i.mode===Mt&&(a=1,a=rt(a,n,t,0),a!==i.check)?sr:(r=pr(e,n,t,t),r?(i.mode=fr,or):(i.havedict=1,Ie))};var bs=ur,gs=dr,ms=hr,vs=hs,ks=_r,Es=ds,ys=_s,xs=ps,Ts=ws,Ss="pako inflate (from Nodeca project)",de={inflateReset:bs,inflateReset2:gs,inflateResetKeep:ms,inflateInit:vs,inflateInit2:ks,inflate:Es,inflateEnd:ys,inflateGetHeader:xs,inflateSetDictionary:Ts,inflateInfo:Ss};function As(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Rs=As;const wr=Object.prototype.toString,{Z_NO_FLUSH:Ns,Z_FINISH:Ds,Z_OK:st,Z_STREAM_END:sn,Z_NEED_DICT:on,Z_STREAM_ERROR:Is,Z_DATA_ERROR:yi,Z_MEM_ERROR:zs}=ze;function mt(e){this.options=Ot.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const n=this.options;n.raw&&n.windowBits>=0&&n.windowBits<16&&(n.windowBits=-n.windowBits,n.windowBits===0&&(n.windowBits=-15)),n.windowBits>=0&&n.windowBits<16&&!(e&&e.windowBits)&&(n.windowBits+=32),n.windowBits>15&&n.windowBits<48&&(n.windowBits&15||(n.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ir,this.strm.avail_out=0;let t=de.inflateInit2(this.strm,n.windowBits);if(t!==st)throw new Error(Ne[t]);if(this.header=new Rs,de.inflateGetHeader(this.strm,this.header),n.dictionary&&(typeof n.dictionary=="string"?n.dictionary=lt.string2buf(n.dictionary):wr.call(n.dictionary)==="[object ArrayBuffer]"&&(n.dictionary=new Uint8Array(n.dictionary)),n.raw&&(t=de.inflateSetDictionary(this.strm,n.dictionary),t!==st)))throw new Error(Ne[t])}mt.prototype.push=function(e,n){const t=this.strm,i=this.options.chunkSize,a=this.options.dictionary;let r,o,l;if(this.ended)return!1;for(n===~~n?o=n:o=n===!0?Ds:Ns,wr.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),r=de.inflate(t,o),r===on&&a&&(r=de.inflateSetDictionary(t,a),r===st?r=de.inflate(t,o):r===yi&&(r=on));t.avail_in>0&&r===sn&&t.state.wrap>0&&e[t.next_in]!==0;)de.inflateReset(t),r=de.inflate(t,o);switch(r){case Is:case yi:case on:case zs:return this.onEnd(r),this.ended=!0,!1}if(l=t.avail_out,t.next_out&&(t.avail_out===0||r===sn))if(this.options.to==="string"){let f=lt.utf8border(t.output,t.next_out),s=t.next_out-f,c=lt.buf2string(t.output,f);t.next_out=s,t.avail_out=i-s,s&&t.output.set(t.output.subarray(f,f+s),0),this.onData(c)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(r===st&&l===0)){if(r===sn)return r=de.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};mt.prototype.onData=function(e){this.chunks.push(e)};mt.prototype.onEnd=function(e){e===st&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Ot.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function $n(e,n){const t=new mt(n);if(t.push(e),t.err)throw t.msg||Ne[t.err];return t.result}function $s(e,n){return n=n||{},n.raw=!0,$n(e,n)}var Ls=mt,Us=$n,Bs=$s,Cs=$n,Ps=ze,Ms={Inflate:Ls,inflate:Us,inflateRaw:Bs,ungzip:Cs,constants:Ps};const{Deflate:Fs,deflate:Zs,deflateRaw:Hs,gzip:Os}=Kl,{Inflate:js,inflate:Gs,inflateRaw:Vs,ungzip:Ks}=Ms;var Ys=Fs,Ws=Zs,Xs=Hs,Js=Os,qs=js,Qs=Gs,eo=Vs,to=Ks,no=ze,mn={Deflate:Ys,deflate:Ws,deflateRaw:Xs,gzip:Js,Inflate:qs,inflate:Qs,inflateRaw:eo,ungzip:to,constants:no},ot;(e=>{function n(t,i,a="0x"){return`${a}${t.toString(16).toUpperCase().padStart(i*2,"0")}`}e.hex=n})(ot||(ot={}));const Dt={Uint8:1,Int8:1,Uint16:2,Int16:2,Uint32:4,Int32:4,BigUint64:8,BigInt64:8,Float32:4,Float64:8},we=class we{constructor(n){U(this,"view",new DataView(new ArrayBuffer(0)));U(this,"pointer",0);U(this,"endianness",we.LITTLE_ENDIAN);n!==void 0&&(n instanceof we&&(n=n.buffer),this.loadData(n))}get length(){return this.view.byteLength}get buffer(){return this.view.buffer}get eof(){return this.pointer>=this.length}get dataLeft(){return this.length-this.pointer}loadData(n,t=0){n instanceof ArrayBuffer||(n=n.buffer),this.view=new DataView(n),this.pointer=t}to(){let n=arguments[0];return typeof n=="function"&&(n=new n),n.loadData(this.buffer,this.pointer),n}peek(n,t=0,...i){const a=this.pointer;this.pointer+=t;const r=n.call(this,...i);return this.pointer=a,r}readBuffer(n){const t=this.buffer.slice(this.pointer,this.pointer+n);return this.pointer+=n,t}readBufferFast(n){const t=new Uint8Array(this.buffer,this.pointer,n);return this.pointer+=n,t}readNumber(n){const t=this.view[`get${n}`](this.pointer,this.endianness);return this.pointer+=Dt[n],t}readBigNumber(n){const t=this.view[`get${n}`](this.pointer,this.endianness);return this.pointer+=Dt[n],t}readCustomNumber(n,t){let i=new Uint8Array(this.readBuffer(n));this.endianness==we.LITTLE_ENDIAN&&(i=i.reverse());let a=0;for(let r=0;r<i.length;r++)a<<=8,a|=i[r];return t&&a&2<<n*8-1&&(a&=(2<<n*8-1)-1,a=-a),a}readBigCustomNumber(n,t){let i=new Uint8Array(this.readBuffer(n));this.endianness==we.LITTLE_ENDIAN&&(i=i.reverse());let a=0n;for(let r=0;r<i.length;r++)a<<=8n,a|=BigInt(i[r]);return t&&a&2n<<BigInt(n)*8n-1n&&(a&=(2n<<BigInt(n)*8n-1n)-1n,a=-a),a}readString(n,t="utf-8"){const i=this.readBuffer(n);return new TextDecoder(t).decode(i)}readNullString(n="utf-8"){let t=this.pointer;for(;this.view.getUint8(t++)!=0;);const i=this.readBufferFast(t-this.pointer-1);return this.pointer++,new TextDecoder(n).decode(i)}readArray(n,t,...i){let a=new Array(t);for(let r=0;r<t;r++)a[r]=n.call(this,...i);return a}readArrayWhile(n,t,...i){let a=new Array;do a.push(n.call(this,...i));while(t(a[a.length-1],a.length-1,a));return a}readArrayTuple(n,t,...i){return this.readArray(n,t,...i)}readArrayUntilEnd(n,...t){return this.readArrayWhile(n,()=>!this.eof,...t)}assertMagic(n,t){if(typeof n=="string"){const i=this.readString(n.length,"ascii");if(i!=n)throw new Error(`DataReader.assertMagic: Strings do not match. expected: "${n}" got: "${i}"`)}else if(n instanceof ArrayBuffer){const i=new Uint8Array(n),a=new Uint8Array(this.readBuffer(i.length));if(i.some((r,o)=>r!=a[o]))throw new Error("DataReader.assertMagic: Buffers do not match.")}else if(Array.isArray(n)){const i=new Uint8Array(this.readBuffer(n.length));if(n.some((a,r)=>a!=i[r]))throw new Error("DataReader.assertMagic: Arrays do not match.")}else if(typeof n=="number"||typeof n=="bigint"){if(t===void 0)throw new Error("DataReader.magic: Must provide type for number.");const i=typeof n=="number"?this.readNumber(t):this.readBigNumber(t);if(i!=n)throw new Error(`DataReader.assertMagic: Magic number does not match. expected: ${ot.hex(n,Dt[t])} got: ${ot.hex(i,Dt[t])}`)}else throw new Error("DataReader.assertMagic: Invalid arguments.")}magic(...n){try{return this.assertMagic(...n),!0}catch{return!1}}};U(we,"BIG_ENDIAN",!1),U(we,"LITTLE_ENDIAN",!0);let ft=we;const xi="RENPY RPC2";var br=(e=>(e[e.Legacy=-1]="Legacy",e[e.End=0]="End",e[e.BeforeStaticTransforms=1]="BeforeStaticTransforms",e[e.AfterStaticTransforms=2]="AfterStaticTransforms",e))(br||{});function io(e){return!0}function ro(e){const n=new ft(e);if(n.readString(xi.length,"ascii")!=xi){console.warn("decompileScript: Legacy format may not decompile correctly."),n.pointer=0;const r=n.readBuffer(n.length),o=mn.inflate(r);return[{slot:-1,offset:0,length:n.length,data:o}]}let i=[];for(;;){const r=n.readNumber("Uint32"),o=n.readNumber("Uint32"),l=n.readNumber("Uint32");if(r==0)break;i.push({slot:r,offset:o,length:l})}return i.map(r=>{n.pointer=r.offset;const o=n.readBuffer(r.length),l=mn.inflate(o);return{...r,data:l}})}function ao(e){if(!io())throw new Error("decompileScript: md5 checksum failed.");return ro(e)}var vn=(e=>(e[e.UNKNOWN=-1]="UNKNOWN",e[e.Protocol0=0]="Protocol0",e[e.Protocol1=1]="Protocol1",e[e.Protocol2=2]="Protocol2",e[e.Protocol3=3]="Protocol3",e[e.Protocol4=4]="Protocol4",e[e.Protocol5=5]="Protocol5",e))(vn||{}),$t=(e=>(e[e.UNKNOWN=-1]="UNKNOWN",e[e.MARK=40]="MARK",e[e.STOP=46]="STOP",e[e.POP=48]="POP",e[e.POP_MARK=49]="POP_MARK",e[e.DUP=50]="DUP",e[e.FLOAT=70]="FLOAT",e[e.INT=73]="INT",e[e.BININT=74]="BININT",e[e.BININT1=75]="BININT1",e[e.LONG=76]="LONG",e[e.BININT2=77]="BININT2",e[e.NONE=78]="NONE",e[e.PERSID=80]="PERSID",e[e.BINPERSID=81]="BINPERSID",e[e.REDUCE=82]="REDUCE",e[e.STRING=83]="STRING",e[e.BINSTRING=84]="BINSTRING",e[e.SHORT_BINSTRING=85]="SHORT_BINSTRING",e[e.UNICODE=86]="UNICODE",e[e.BINUNICODE=88]="BINUNICODE",e[e.APPEND=97]="APPEND",e[e.BUILD=98]="BUILD",e[e.GLOBAL=99]="GLOBAL",e[e.DICT=100]="DICT",e[e.EMPTY_DICT=125]="EMPTY_DICT",e[e.APPENDS=101]="APPENDS",e[e.GET=103]="GET",e[e.BINGET=104]="BINGET",e[e.INST=105]="INST",e[e.LONG_BINGET=106]="LONG_BINGET",e[e.LIST=108]="LIST",e[e.EMPTY_LIST=93]="EMPTY_LIST",e[e.OBJ=111]="OBJ",e[e.PUT=112]="PUT",e[e.BINPUT=113]="BINPUT",e[e.LONG_BINPUT=114]="LONG_BINPUT",e[e.SETITEM=115]="SETITEM",e[e.TUPLE=116]="TUPLE",e[e.EMPTY_TUPLE=41]="EMPTY_TUPLE",e[e.SETITEMS=117]="SETITEMS",e[e.BINFLOAT=71]="BINFLOAT",e[e.PROTO=128]="PROTO",e[e.NEWOBJ=129]="NEWOBJ",e[e.EXT1=130]="EXT1",e[e.EXT2=131]="EXT2",e[e.EXT4=132]="EXT4",e[e.TUPLE1=133]="TUPLE1",e[e.TUPLE2=134]="TUPLE2",e[e.TUPLE3=135]="TUPLE3",e[e.NEWTRUE=136]="NEWTRUE",e[e.NEWFALSE=137]="NEWFALSE",e[e.LONG1=138]="LONG1",e[e.LONG4=139]="LONG4",e[e.BINBYTES=66]="BINBYTES",e[e.SHORT_BINBYTES=67]="SHORT_BINBYTES",e[e.SHORT_BINUNICODE=140]="SHORT_BINUNICODE",e[e.BINUNICODE8=141]="BINUNICODE8",e[e.BINBYTES8=142]="BINBYTES8",e[e.EMPTY_SET=143]="EMPTY_SET",e[e.ADDITEMS=144]="ADDITEMS",e[e.FROZENSET=145]="FROZENSET",e[e.NEWOBJ_EX=146]="NEWOBJ_EX",e[e.STACK_GLOBAL=147]="STACK_GLOBAL",e[e.MEMOIZE=148]="MEMOIZE",e[e.FRAME=149]="FRAME",e[e.BYTEARRAY8=150]="BYTEARRAY8",e[e.NEXT_BUFFER=151]="NEXT_BUFFER",e[e.READONLY_BUFFER=152]="READONLY_BUFFER",e))($t||{});class lo{constructor(n,...t){U(this,"module");U(this,"args");U(this,"state");this.module=n,this.args=t}}class Ti{constructor(n,t){U(this,"module");U(this,"name");this.module=n,this.name=t}make(...n){return new lo(this,...n)}}const Zt=class Zt{constructor(){U(this,"stack",[])}append(n){this.stack.push(n)}pop(){return this.stack.pop()}get last(){return this.stack[this.stack.length-1]}set last(n){this.stack[this.stack.length-1]=n}popMark(){let n=[];for(var t=this.stack.length-1;t>=0;t--)if(this.stack[t]===Zt.MARK){this.pop();break}else n.unshift(this.pop());return n}};U(Zt,"MARK",Symbol("Mark"));let Ft=Zt;class so{constructor(){U(this,"memo",[])}get(n){return this.memo[n]}set(n,t){this.memo[t]=n}append(n){this.memo.push(n)}get lastMemo(){return this.memo[this.memo.length-1]}}class Gt extends ft{constructor(t,i=!1){super(t);U(this,"debug");U(this,"operTime",{});U(this,"protocol",-1);U(this,"stack",new Ft);U(this,"memo",new so);this.debug=i}findClass(t,i){return new Ti(t,i)}readOperation(){const t=this.debug?performance.now():0;if(this.eof)throw new Error("Depickler.readOperation: Reached end of pickle data without STOP opcode.");const i=this.readNumber("Uint8");switch(i){case 46:break;case 128:{if(this.protocol=this.readNumber("Uint8"),!(this.protocol in vn))throw new Error(`Depickler.readPicke: Unknown protocol. ${this.protocol}`);if(![2,3,4,5].includes(this.protocol))throw new Error(`Depickler.readPickle: Unsupported protocol. ${vn[this.protocol]}`);break}case 149:{this.readBigNumber("BigUint64");break}case 125:{this.stack.append({});break}case 148:{this.memo.append(this.stack.last);break}case 40:{this.stack.append(Ft.MARK);break}case 140:{this.stack.append(this.readString(this.readNumber("Uint8"),"utf-8"));break}case 93:{this.stack.append([]);break}case 74:{this.stack.append(this.readNumber("Int32"));break}case 67:{const a=this.readNumber("Uint8"),r=new Uint8Array(this.readBuffer(a));this.stack.append(r);break}case 135:{this.stack.append([this.stack.pop(),this.stack.pop(),this.stack.pop()].reverse());break}case 97:{const a=this.stack.pop();this.stack.last.push(a);break}case 104:{const a=this.readNumber("Uint8");if(this.memo.get(a)===void 0)throw new Error(`Depickler.readPickle: Memo value not found at index ${a}`);this.stack.append(this.memo.get(a));break}case 117:{const a=this.stack.popMark();if(a.length%2!=0)throw new Error("Depickler.readPickle: Can not set an odd number of items.");const r=this.stack.last;for(let o=0;o<a.length;o+=2)r[a[o+0]]=a[o+1];break}case 77:{this.stack.append(this.readNumber("Uint16"));break}case 113:{const a=this.readNumber("Uint8");this.memo.set(this.stack.last,a);break}case 88:{const a=this.readNumber("Uint32");this.stack.append(this.readString(a,"utf-8"));break}case 138:{const a=this.readNumber("Uint8");this.stack.append(this.readCustomNumber(a,!0));break}case 85:{const a=this.readNumber("Uint8");this.stack.append(this.readString(a,"utf-8"));break}case 114:{const a=this.readNumber("Uint32");this.memo.set(this.stack.last,a);break}case 99:{const a=this.readUntilNewline(),r=this.readUntilNewline();this.stack.append(this.findClass(a,r));break}case 41:{this.stack.append([]);break}case 129:{const a=this.stack.pop(),r=this.stack.pop();this.stack.append(r.make(...a));break}case 78:{this.stack.append(null);break}case 75:{this.stack.append(this.readNumber("Uint8"));break}case 116:{this.stack.append([...this.stack.popMark()].reverse());break}case 134:{this.stack.append([this.stack.pop(),this.stack.pop()].reverse());break}case 98:{const a=this.stack.pop(),r=this.stack.last;r.state=a;break}case 137:{this.stack.append(!1);break}case 136:{this.stack.append(!0);break}case 101:{const a=this.stack.popMark();this.stack.last.push(...a);break}case 133:{this.stack.append([this.stack.pop()]);break}case 106:{const a=this.readNumber("Uint32");if(this.memo.get(a)===void 0)throw new Error(`Depickler.readPickle: Memo value not found at index ${a}`);this.stack.append(this.memo.get(a));break}case 115:{const a=this.stack.pop(),r=this.stack.pop();this.stack.last[r]=a;break}case 82:{const a=this.stack.pop(),r=this.stack.last;r instanceof Ti?this.stack.last=r.make(...a):this.stack.last=r(...a);break}default:throw $t[i]===void 0?new Error(`Depicker.readPickle: Unknown opcode. ${ot.hex(i,1)}`):new Error(`Depicker.readPickle: Unimplemented opcode. ${$t[i]}`)}if(this.debug){const a=performance.now()-t;this.operTime[i]=(this.operTime[i]??0)+a}return i}readPickle(){for(this.debug&&console.time("Depickle");this.readOperation()!=46;);if(this.debug){console.timeEnd("Depickle");const t=Object.fromEntries(Object.entries(this.operTime).map(a=>[$t[parseInt(a[0])],a[1]])),i=Object.keys(t).reduce((a,r)=>Math.max(a,r.length),0);for(const[a,r]of Object.entries(t))console.log(`${a.padEnd(i," ")} with ${Math.round(r)}ms`)}return this.stack.stack}static depickle(t,i=!1){return new Gt(t,i).readPickle()}readUntilNewline(){let t=this.pointer;for(;this.view.getUint8(t++)!=10;);const i=this.readBufferFast(t-this.pointer-1);return this.pointer++,new TextDecoder("ascii").decode(i)}}function oo(e){const n=e.module;if(n.module!==Vt.RenPy)throw new Error("parseRenPyClass: This function is only for parsing RenPy module classes.");switch(n.name){case"Init":return e.state[1].block.map(m).join(`
`);case"Define":{const t=e.state,i=t[1].store.split(".").pop()??"";return i==""||i=="store"?`define ${t[1].varname} ${t[1].operator} ${m(t[1].code)}
`:`define ${t[1].store.split(".").pop()??""}.${t[1].varname} ${t[1].operator} ${m(t[1].code)}
`}case"PyCode":{const t=e.state;let i;for(let a=0;a<t.length;a++){const r=t[a];if(i===void 0)typeof r=="string"&&(i=r);else{if(typeof r=="string")return r;if(!Array.isArray(r)&&typeof r!="number")return m(r)}}throw new Error("parseRenPyClass: Failed to parse PyCode.")}case"PyExpr":{const t=e.args;return t[3]??t[0]}case"Default":{const t=e.state,i=t[1].store.split(".").pop()??"";return i==""||i=="store"?`default ${t[1].varname} = ${m(t[1].code)}
`:`default ${t[1].store.split(".").pop()??""}.${t[1].varname} = ${m(t[1].code)}
`}case"Python":{const t=e.state,i=m(t[1].code);let a=[];for(let r=0;r!=-1;r=i.indexOf(`
`,r+1))a.push(r);return a.every(r=>r==0||r==i.length-1)?`$ ${i.replace(`
`,"")}
`:`init python:
${S(i)}
`}case"Return":return"";case"Label":{const t=e.state;let i="";for(const a of t[1].block)i+=m(a);return i=S(i),`label ${t[1].name}:
${i}`}case"Screen":{const t=e.state;return m(t[1].screen)}case"ParameterInfo":return e.state.parameters.map(i=>`${i[1]==null?i[0]:`${i[0]}=${typeof i[1]=="string"?i[1]:m(i[1])}`}`).join(", ");case"Image":{const t=e.state;if(t[1].code!=null)return`image ${t[1].imgname.join(", ")} = ${m(t[1].code)}
`;if(t[1].atl!=null)return`image ${t[1].imgname.join(", ")}:
${S(m(t[1].atl))}
`;throw new Error("parseRenPyClass: Invalid image.")}case"Style":{const t=e.state;return`style ${t[1].style_name}:
${S(Object.entries(t[1].properties).map(i=>`${i[0]} ${m(i[1])}`).join(`
`))}
`}case"Transform":{const t=e.state;return`transform ${t[1].varname}${t[1].parameters==null?"":`(${m(t[1].parameters)})`}:
${S(m(t[1].atl))}
`}case"Jump":return`jump ${e.state[1].target}
`;case"UserStatement":return`${e.state[1].line}
`;case"Say":{const t=e.state;return`${t[1].who===null?"":`${t[1].who} `}"${t[1].what}"
`}case"Show":return`show ${e.state[1].imspec[6].join(" ")}
`;case"With":{const t=e.state;if(t[1].expr=="None"){if(t[1].paired==null)throw new Error("parseRenPyClass: With without any args.");return`with ${m(t[1].paired)}`}else return`with ${typeof t[1].expr=="string"?t[1].expr:m(t[1].expr)}
`}case"If":{const t=e.state;let i="";for(let a=0;a<t[1].entries.length;a++){const r=t[1].entries[a];a==0?i+=`if ${typeof r[0]=="string"?r[0]:m(r[0])}:
${S(r[1].map(m).join(`
`))}
`:r[0]!=null&&r[0]!="True"?i+=`elif ${typeof r[0]=="string"?r[0]:m(r[0])}:
${S(r[1].map(m).join(`
`))}
`:i+=`else:
${S(r[1].map(m).join(`
`))}
`}return i}case"Menu":{const t=e.state;let i=`menu${t[1].arguments==null?"":`(${m(t[1].arguments)})`}:
`;for(const a of t[1].items)if(i+=S(`"${a[0]}"`),a[1]!="True"&&a[1]!=null&&(i+=" if ",typeof a[1]=="string"?i+=a[1]:i+=m(a[1])),a[2]==null)i+=`
`;else{i+=`:
`;for(const r of a[2])i+=`${S(m(r),2)}
`}return i}case"Scene":return`scene ${e.state[1].imspec[6].join(" ")}
`;case"Hide":return`hide ${e.state[1].imspec[6].join(" ")}
`;case"While":{const t=e.state;return`while ${m(t[1].condition)}:
${S(t[1].block.map(m).join(`
`))}
`}case"Pass":return`pass
`;case"Call":return`call ${e.state[1].label} from `;default:throw new Error(`parseRenPyClass: Unknown class "${n.name}"`)}}function fo(e){const n=e.module;if(n.module!==Vt.RenPy_ATL)throw new Error("parseRenPyATLClass: This function is only for parsing RenPy_ATL module classes.");switch(n.name){case"RawBlock":return`${e.state.statements.map(m).join("")}`;case"RawMultipurpose":{const t=e.state;let i="";t.duration!="0"&&(i+=(typeof t.duration=="string"||typeof t.duration=="number"?t.duration:m(t.duration))+`
`);for(const a of t.expressions)i+=`${m(a[0])}
`;for(const a of t.properties)i+=`${a[0]} ${m(a[1])}
`;return i}case"RawRepeat":{const t=e.state;return`repeat${t.repeats==null?"":` ${typeof t.repeats=="number"?t.repeats:m(t.repeats)}`}
`}case"RawOn":{const t=e.state;let i="";for(const[a,r]of Object.entries(t.handlers))i+=`on ${a}:
${S(m(r))}
`;return i}case"RawParallel":{const t=e.state;return`parallel:
${S(t.blocks.map(m).join(`
`))}`}default:throw new Error(`parseRenPyATLClass: Unknown class "${n.name}"`)}}function co(e){const n=e.module;if(n.module!==Vt.RenPy_SL2)throw new Error("parseRenPySL2Class: This function is only for parsing RenPy_SL2 module classes.");switch(n.name){case"SLScreen":{const t=e.state;return`screen ${t.name}${t.parameters==null?"":`(${m(t.parameters)})`}:
${S((t.tag==null?"":t.tag)+`
`+t.keyword.map(i=>`${i[0]} ${m(i[1])}
`).join(`
`)+t.children.map(m).join(""))}
`}case"SLDisplayable":{let t=function(o,l=`
`,f=""){return o.length==0?"":f+o.map(s=>`${s[0]} ${m(s[1])}`).join(l)},i=function(o){return o.map(m).join(" ")},a=function(o){return o.map(m).join(`
`)};const r=e.state;switch(`${r.displayable.module}:${r.displayable.name}`){case"renpy.sl2.sldisplayables:sl2add":return`add ${i(r.positional)} ${r.keyword.map(o=>`${o[0]} ${m(o[1])}`).join(" ")}
`;case"renpy.display.layout:Grid":return`grid ${i(r.positional)}:
${S(t(r.keyword))}
${S(a(r.children))}
`;case"renpy.ui:_textbutton":return`textbutton ${i(r.positional)}:
${S(t(r.keyword))}
`;case"renpy.display.layout:Null":return`null${t(r.keyword," "," ")}
`;case"renpy.display.layout:MultiBox":return`${r.style}${t(r.keyword," "," ")}:
${S(a(r.children))}
`;case"renpy.text.text:Text":return`text ${i(r.positional)}${t(r.keyword," "," ")}
`;case"renpy.ui:_imagemap":return`imagemap:
${S(t(r.keyword))}
${S(a(r.children))}
`;case"renpy.ui:_hotspot":return`${r.name}${i(r.positional)} ${t(r.keyword)}`;case"renpy.ui:_imagebutton":return`imagebutton:
${S(t(r.keyword))}
${S(a(r.children))}
`;case"renpy.display.layout:Window":return`${r.name}${r.positional.length==0?"":` ${i(r.positional)}`}:
${S(t(r.keyword))}
${S(a(r.children))}
`;case"renpy.display.behavior:Input":return`input ${t(r.keyword)}
`;case"renpy.sl2.sldisplayables:sl2viewport":return`viewport:
${S(t(r.keyword))}
${S(a(r.children))}
`;case"renpy.sl2.sldisplayables:sl2vpgrid":return`vpgrid:
${S(t(r.keyword))}
${S(a(r.children))}
`;case"renpy.ui:_label":return`label ${i(r.positional)}
`;case"renpy.ui:_key":return`key ${i(r.positional)}${t(r.keyword," "," ")}
`;case"renpy.display.behavior:Timer":return`timer ${i(r.positional)}${t(r.keyword," "," ")}
`;case"renpy.sl2.sldisplayables:sl2bar":return`bar:
${S(t(r.keyword))}
${S(a(r.children))}
`;case"renpy.display.behavior:Button":return`button ${i(r.positional)}${t(r.keyword," "," ")}:
${a(r.children)}`;case"renpy.display.behavior:OnEvent":return`on ${i(r.positional)}${t(r.keyword," "," ")}
`;default:throw new Error(`parseRenPySL2Class: Unsupported displayable module: ${r.displayable.module}:${r.displayable.name}`)}}case"SLPython":{const t=e.state,i=m(t.code);let a=[];for(let r=0;r!=-1;r=i.indexOf(`
`,r+1))a.push(r);return a.every(r=>r==0||r==i.length-1)?`$ ${i.replace(`
`,"")}
`:`init python:
${S(i)}
`}case"SLIf":{const t=e.state;let i="";for(let a=0;a<t.entries.length;a++){const r=t.entries[a];a==0?i+=`if ${typeof r[0]=="string"?r[0]:m(r[0])}:
${S(m(r[1]))}
`:r[0]!=null?i+=`elif ${typeof r[0]=="string"?r[0]:m(r[0])}:
${S(m(r[1]))}
`:i+=`else:
${S(m(r[1]))}
`}return i}case"SLBlock":{const t=e.state;let i="";for(const a of t.children)i+=m(a);for(const a of t.keyword)i+=`${a[0]} ${m(a[1])}
`;return i.length==0&&(i+=`pass
`),i}case"SLFor":{const t=e.state;return`for ${t.variable} in ${m(t.expression)}:
${S(t.children.map(m).join(""))}`}case"SLUse":return`use ${e.state.target}`;case"SLTransclude":return`transclude
`;case"SLDefault":{const t=e.state;return`default ${t.variable} = ${m(t.expression)}`}default:throw new Error(`parseRenPySL2Class: Unknown class "${n.name}"`)}}var Vt=(e=>(e.RenPy="renpy.ast",e.RenPy_SL2="renpy.sl2.slast",e.RenPy_ATL="renpy.atl",e))(Vt||{});function S(e,n=1){return e.split(`
`).map(t=>"    ".repeat(n)+t).join(`
`)}const ho=100;let It=[];function uo(e){const n=e.module;switch(n.module){case"renpy.ast":return oo(e);case"renpy.sl2.slast":return co(e);case"renpy.atl":return fo(e);default:throw new Error(`parseClass: Unknown module. "${n.module}"`)}}function m(e){{It.push(e),It.length>ho&&It.shift();try{return uo(e)}catch(n){for(const t of It)console.log(t);throw n}}}function _o(e,n={}){const t=e.find(s=>s.slot==br.BeforeStaticTransforms);if(t===void 0)throw new Error("decompileScript: Could not find script chunk.");const a=Gt.depickle(t.data)[0],r=a[0];if(r.version!==5003e3)throw new Error(`decompileScript: Unknown header version. ${r.version}`);let o="";o+=`# Ren'Py decompiled script.
`,o+=`# Decompiled with renpy-asset-viewer
`,o+=`# Decompiled on ${new Date}
`,o+=`# Script Header:
`;for(const[s,c]of Object.entries(r))o+=`#     ${s}: ${c}
`;o+=`# Decompilation is in very early alpha, so please give feedback on bugs!
`,o+=`


`;let l="";const f=a[1];for(const s of f)l+=m(s),l+=`
`;return(n.cleanOutput??!0)&&(l=po(l)),o+l}function po(e){return e=e.replace(/\s+(?=(\n|$))/g,""),e}function Si(e,n,t){const i=e.slice();return i[5]=n[t],i}function Ai(e){let n,t,i,a,r=e[3]&&Ri(e);return{c(){n=F("pre"),t=ve(e[2]),i=_e(),r&&r.c(),a=Me(),this.h()},l(o){n=Z(o,"PRE",{class:!0});var l=z(n);t=ke(l,e[2]),l.forEach(w),i=pe(o),r&&r.l(o),a=Me(),this.h()},h(){E(n,"class","error svelte-x0sqfo")},m(o,l){$(o,n,l),P(n,t),$(o,i,l),r&&r.m(o,l),$(o,a,l)},p(o,l){l&4&&He(t,o[2]),o[3]?r?r.p(o,l):(r=Ri(o),r.c(),r.m(a.parentNode,a)):r&&(r.d(1),r=null)},d(o){o&&(w(n),w(i),w(a)),r&&r.d(o)}}}function Ri(e){let n,t="Unable to decompile code, Here's the dumped strings instead:",i,a,r=Bn(e[3]),o=[];for(let l=0;l<r.length;l+=1)o[l]=Ni(Si(e,r,l));return{c(){n=F("h1"),n.textContent=t,i=_e();for(let l=0;l<o.length;l+=1)o[l].c();a=Me(),this.h()},l(l){n=Z(l,"H1",{class:!0,"data-svelte-h":!0}),zi(n)!=="svelte-h8a0d9"&&(n.textContent=t),i=pe(l);for(let f=0;f<o.length;f+=1)o[f].l(l);a=Me(),this.h()},h(){E(n,"class","svelte-x0sqfo")},m(l,f){$(l,n,f),$(l,i,f);for(let s=0;s<o.length;s+=1)o[s]&&o[s].m(l,f);$(l,a,f)},p(l,f){if(f&8){r=Bn(l[3]);let s;for(s=0;s<r.length;s+=1){const c=Si(l,r,s);o[s]?o[s].p(c,f):(o[s]=Ni(c),o[s].c(),o[s].m(a.parentNode,a))}for(;s<o.length;s+=1)o[s].d(1);o.length=r.length}},d(l){l&&(w(n),w(i),w(a)),Rr(o,l)}}}function Ni(e){let n,t=e[5]+"",i;return{c(){n=F("pre"),i=ve(t),this.h()},l(a){n=Z(a,"PRE",{class:!0});var r=z(n);i=ke(r,t),r.forEach(w),this.h()},h(){E(n,"class","svelte-x0sqfo")},m(a,r){$(a,n,r),P(n,i)},p(a,r){r&8&&t!==(t=a[5]+"")&&He(i,t)},d(a){a&&w(n)}}}function Di(e){let n,t;return{c(){n=F("pre"),t=ve(e[1]),this.h()},l(i){n=Z(i,"PRE",{class:!0});var a=z(n);t=ke(a,e[1]),a.forEach(w),this.h()},h(){E(n,"class","svelte-x0sqfo")},m(i,a){$(i,n,a),P(n,t)},p(i,a){a&2&&He(t,i[1])},d(i){i&&w(n)}}}function wo(e){let n,t,i=e[2]&&Ai(e),a=e[1]&&Di(e);return{c(){n=F("div"),i&&i.c(),t=_e(),a&&a.c(),this.h()},l(r){n=Z(r,"DIV",{title:!0});var o=z(n);i&&i.l(o),t=pe(o),a&&a.l(o),o.forEach(w),this.h()},h(){E(n,"title",e[0])},m(r,o){$(r,n,o),i&&i.m(n,null),P(n,t),a&&a.m(n,null)},p(r,[o]){r[2]?i?i.p(r,o):(i=Ai(r),i.c(),i.m(n,t)):i&&(i.d(1),i=null),r[1]?a?a.p(r,o):(a=Di(r),a.c(),a.m(n,null)):a&&(a.d(1),a=null),o&1&&E(n,"title",r[0])},i:B,o:B,d(r){r&&w(n),i&&i.d(),a&&a.d()}}}function bo(e,n,t){let{path:i}=n,{file:a}=n,r,o,l;return kn(async()=>{try{var f=ao(await a.arrayBuffer())}catch(s){throw t(2,o=String(s)),s}try{t(1,r=_o(f)),t(1,r=`# ${i}
${r}`)}catch(s){throw t(2,o=String(s)),t(3,l=Array.from(fn.dumpStrings(f))),s}}),e.$$set=f=>{"path"in f&&t(0,i=f.path),"file"in f&&t(4,a=f.file)},[i,r,o,l,a]}class go extends W{constructor(n){super(),X(this,n,bo,wo,Y,{path:0,file:4})}}const mo=Lr,vo={".png":Ve,".gif":Ve,".jpg":Ve,".jpeg":Ve,".webp":Ve,".mp4":yt,".mov":yt,".webm":yt,".ogv":yt,".mp3":Kt,".ogg":Kt,".wav":Kt},gr=ta,mr={".png":Ke,".gif":Ke,".jpg":Ke,".jpeg":Ke,".webp":Ke,".mp4":xt,".mov":xt,".webm":xt,".ogv":xt,".rpyc":go},ko=34,Eo="RPA-3.0";class yo{constructor(n,t){U(this,"archive");U(this,"sections");this.archive=n,this.sections=t}blob(){return new Blob(this.sections.map(t=>this.archive.slice(t.offset,t.offset+t.length)))}get size(){return this.sections.reduce((n,t)=>n+t.length,0)}get type(){return""}async arrayBuffer(){return await this.blob().arrayBuffer()}slice(n,t,i){return this.blob().slice(n,t,i)}stream(){return this.blob().stream()}async text(){return await this.blob().text()}}class xo extends Bt{async getFile(n){const t=await super.getFile(n);if(t!==void 0)return t.slice()}}class To extends ft{constructor(t){super();U(this,"blob");U(this,"blobPointer",0);U(this,"key",-1);this.blob=t}get blobLength(){return this.blob.size}get blobEof(){return this.blobPointer>=this.blobLength}get blobDataLeft(){return this.blobLength-this.blobPointer}getSlice(t,i=this.blobPointer){this.blobPointer=i;const a=this.blob.slice(this.blobPointer,this.blobPointer+t);return this.blobPointer+=t,a}async load(t,i=this.blobPointer){this.loadData(await this.getSlice(t,i).arrayBuffer())}async readHeader(){await this.load(ko);const t=this.readString(this.dataLeft);if(!t.endsWith(`
`))throw new Error("ArchiveReader.readHeader: Archive header does not end with newline.");const i=t.split(" ");if(i.length!=3)throw new Error("ArchiveReader.readHeader: Invalid header.");if(i[0]!=Eo)throw new Error(`ArchiveReader.readHeader: Signature does not match. got: ${i[0]} expected: ${i[1]}`);const a=Number.parseInt(i[1],16);if(Number.isNaN(a))throw new Error("ArchiveReader.readHeader: Index offset is invalid.");if(this.key=Number.parseInt(i[2],16),Number.isNaN(this.key))throw new Error("ArchiveReader.readHeader: Key is invalid.");return a}async readArchive(){const t=await this.readHeader();this.blobPointer=t,await this.load(this.blobDataLeft);const i=this.buffer,a=mn.inflate(i),r=Gt.depickle(a),o=Object.fromEntries(Object.entries(r[0]).map(l=>{const f=l[0],s=l[1];let c=[];for(const d of s)c.push({offset:d[0]^this.key,length:d[1]^this.key});return[f,new yo(this.blob,c)]}).sort((l,f)=>l[0].localeCompare(f[0])));return xo.fromFileList(o)}}const vr=Nr();function So(e){let n,t,i,a=e[0].slice(e[0].lastIndexOf("/")+1)+"",r,o,l;return{c(){n=F("button"),t=F("span"),i=_e(),r=ve(a),this.h()},l(f){n=Z(f,"BUTTON",{class:!0});var s=z(n);t=Z(s,"SPAN",{class:!0}),z(t).forEach(w),i=pe(s),r=ke(s,a),s.forEach(w),this.h()},h(){E(t,"class","icon svelte-18w82l2"),E(n,"class","file svelte-18w82l2")},m(f,s){$(f,n,s),P(n,t),e[5](t),P(n,i),P(n,r),o||(l=[Be(n,"click",e[2]),Be(n,"keydown",e[3])],o=!0)},p(f,[s]){s&1&&a!==(a=f[0].slice(f[0].lastIndexOf("/")+1)+"")&&He(r,a)},i:B,o:B,d(f){f&&w(n),e[5](null),o=!1,$i(l)}}}function Ao(e,n,t){let i,a;vr.subscribe(u=>{a=u});let r,{path:o=""}=n,{file:l}=n;kn(()=>{const u=vo[i]??mo;new u({target:r,props:{path:o,file:l}})});function f(){const u=mr[i]??gr;if(u==null){console.warn(`No viewer for "${o}"`);return}new u({target:a,props:{path:o,file:l}})}function s(){const u=document.createElement("a");u.href=URL.createObjectURL(l),u.download=o.split("/").pop()??"download-unknown",u.click()}function c(u){u.code=="KeyD"&&s()}function d(u){Lt[u?"unshift":"push"](()=>{r=u,t(1,r)})}return e.$$set=u=>{"path"in u&&t(0,o=u.path),"file"in u&&t(4,l=u.file)},e.$$.update=()=>{e.$$.dirty&1&&(i=o.slice(o.lastIndexOf("."))??"")},[o,r,f,c,l,d]}class Ro extends W{constructor(n){super(),X(this,n,Ao,So,Y,{path:0,file:4})}}function No(e){let n,t;return n=new Hr({props:{class:"icon"}}),{c(){En(n.$$.fragment)},l(i){yn(n.$$.fragment,i)},m(i,a){xn(n,i,a),t=!0},i(i){t||(re(n.$$.fragment,i),t=!0)},o(i){ie(n.$$.fragment,i),t=!1},d(i){Tn(n,i)}}}function Do(e){let n,t;return n=new Mr({props:{class:"icon"}}),{c(){En(n.$$.fragment)},l(i){yn(n.$$.fragment,i)},m(i,a){xn(n,i,a),t=!0},i(i){t||(re(n.$$.fragment,i),t=!0)},o(i){ie(n.$$.fragment,i),t=!1},d(i){Tn(n,i)}}}function Io(e){let n,t,i,a,r,o=`${e[1].split("/").at(-2)}/`,l,f,s,c,d,u;const h=[Do,No],p=[];function L(b,g){return b[0]?0:1}return i=L(e),a=p[i]=h[i](e),{c(){n=F("button"),t=F("span"),a.c(),r=_e(),l=ve(o),f=_e(),s=F("ul"),this.h()},l(b){n=Z(b,"BUTTON",{class:!0});var g=z(n);t=Z(g,"SPAN",{class:!0});var y=z(t);a.l(y),y.forEach(w),r=pe(g),l=ke(g,o),g.forEach(w),f=pe(b),s=Z(b,"UL",{class:!0}),z(s).forEach(w),this.h()},h(){E(t,"class","icon svelte-9ulkvx"),E(n,"class","folder svelte-9ulkvx"),E(s,"class","list svelte-9ulkvx"),M(s,"hidden",!e[0])},m(b,g){$(b,n,g),P(n,t),p[i].m(t,null),P(n,r),P(n,l),$(b,f,g),$(b,s,g),e[6](s),c=!0,d||(u=Be(n,"click",e[3]),d=!0)},p(b,[g]){let y=i;i=L(b),i!==y&&(Li(),ie(p[y],1,1,()=>{p[y]=null}),Ui(),a=p[i],a||(a=p[i]=h[i](b),a.c()),re(a,1),a.m(t,null)),(!c||g&2)&&o!==(o=`${b[1].split("/").at(-2)}/`)&&He(l,o),(!c||g&1)&&M(s,"hidden",!b[0])},i(b){c||(re(a),c=!0)},o(b){ie(a),c=!1},d(b){b&&(w(n),w(f),w(s)),p[i].d(),e[6](null),d=!1,u()}}}function Ii(e){return e.endsWith("/")||e.endsWith(".rpa")?1:0}function zo(e,n,t){let{path:i}=n,{directory:a}=n,{expanded:r=!1}=n,o=!1,l;function f(){t(0,r=!r)}async function s(d,u,h){if(h===void 0)return null;u.endsWith(".rpa")&&!(h instanceof be)&&h!==void 0&&(h=await new To(h).readArchive(),u+="/"),h instanceof be?new kr({target:d,props:{path:`${i}${u}`,directory:h}}):new Ro({target:d,props:{path:`${i}${u}`,file:h}})}function c(d){Lt[d?"unshift":"push"](()=>{l=d,t(2,l)})}return e.$$set=d=>{"path"in d&&t(1,i=d.path),"directory"in d&&t(4,a=d.directory),"expanded"in d&&t(0,r=d.expanded)},e.$$.update=()=>{e.$$.dirty&53&&r&&(o||(t(5,o=!0),a.listEntries().then(async d=>{d=d.sort((u,h)=>Ii(h)-Ii(u));for(const u of d){const h=await(u.endsWith("/")?a.getDirectory(u):a.getFile(u));await s(l,u,h)}})))},[r,i,l,f,a,o,c]}class kr extends W{constructor(n){super(),X(this,n,zo,Io,Y,{path:1,directory:4,expanded:0})}}function $o(e){let n,t,i,a,r,o,l;return n=new Kr({}),n.$on("dropdirectory",e[2]),n.$on("dropfile",e[3]),{c(){En(n.$$.fragment),t=_e(),i=F("div"),a=F("div"),r=_e(),o=F("div"),this.h()},l(f){yn(n.$$.fragment,f),t=pe(f),i=Z(f,"DIV",{class:!0});var s=z(i);a=Z(s,"DIV",{}),z(a).forEach(w),r=pe(s),o=Z(s,"DIV",{}),z(o).forEach(w),s.forEach(w),this.h()},h(){E(i,"class","page svelte-18jnx11")},m(f,s){xn(n,f,s),$(f,t,s),$(f,i,s),P(i,a),e[4](a),P(i,r),P(i,o),e[5](o),l=!0},p:B,i(f){l||(re(n.$$.fragment,f),l=!0)},o(f){ie(n.$$.fragment,f),l=!1},d(f){f&&(w(t),w(i)),Tn(n,f),e[4](null),e[5](null)}}}function Lo(e,n,t){let i,a;kn(()=>{vr.set(a)});function r(s){new kr({target:i,props:{path:`${s.detail.name}/`,directory:s.detail.dir}})}function o(s){const{file:c,name:d}=s.detail,u=d.slice(d.lastIndexOf(".")),h=mr[u]??gr;if(h==null){console.warn(`No viewer for "${d}"`);return}new h({target:a,props:{path:d,file:c}})}function l(s){Lt[s?"unshift":"push"](()=>{i=s,t(0,i)})}function f(s){Lt[s?"unshift":"push"](()=>{a=s,t(1,a)})}return[i,a,r,o,l,f]}class Fo extends W{constructor(n){super(),X(this,n,Lo,$o,Y,{})}}export{Fo as component,Mo as universal};
